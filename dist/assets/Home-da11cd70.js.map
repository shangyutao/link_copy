{"version":3,"file":"Home-da11cd70.js","sources":["../../src/utils/validate.js","../../src/views/Home.vue"],"sourcesContent":["// URL验证\nexport const isValidUrl = (url) => {\n  if (!url || typeof url !== 'string') return false\n  \n  try {\n    new URL(url)\n    return true\n  } catch {\n    // 如果不是完整URL，检查是否包含常见视频平台域名\n    const videoPatterns = [\n      /douyin\\.com/i,\n      /dy\\.com/i,\n      /bilibili\\.com/i,\n      /b23\\.tv/i,\n      /youtube\\.com/i,\n      /youtu\\.be/i\n    ]\n    \n    return videoPatterns.some(pattern => pattern.test(url))\n  }\n}\n\n// 视频URL验证\nexport const isVideoUrl = (url) => {\n  if (!isValidUrl(url)) return false\n  \n  const videoPatterns = [\n    /douyin\\.com/i,\n    /dy\\.com/i,\n    /bilibili\\.com/i,\n    /b23\\.tv/i,\n    /youtube\\.com/i,\n    /youtu\\.be/i,\n    /tiktok\\.com/i\n  ]\n  \n  return videoPatterns.some(pattern => pattern.test(url))\n}\n\n// 检测视频平台\nexport const detectPlatform = (url) => {\n  if (!url) return null\n  \n  const lowerUrl = url.toLowerCase()\n  \n  if (lowerUrl.includes('douyin.com') || lowerUrl.includes('dy.com')) {\n    return 'douyin'\n  }\n  \n  if (lowerUrl.includes('bilibili.com') || lowerUrl.includes('b23.tv')) {\n    return 'bilibili'\n  }\n  \n  if (lowerUrl.includes('youtube.com') || lowerUrl.includes('youtu.be')) {\n    return 'youtube'\n  }\n  \n  if (lowerUrl.includes('tiktok.com')) {\n    return 'tiktok'\n  }\n  \n  return null\n}\n\n// 提取分享文本中的URL\nexport const extractUrlFromText = (text) => {\n  if (!text) return null\n  \n  // 匹配URL的正则表达式\n  const urlRegex = /(https?:\\/\\/[^\\s]+)/g\n  const matches = text.match(urlRegex)\n  \n  if (matches && matches.length > 0) {\n    return matches[0].replace(/[.,;!?]$/, '') // 移除末尾的标点符号\n  }\n  \n  return null\n}\n\n// 验证任务ID格式\nexport const isValidTaskId = (taskId) => {\n  if (!taskId || typeof taskId !== 'string') return false\n  \n  // 任务ID应该是非空字符串，通常包含字母、数字、下划线、连字符\n  return /^[a-zA-Z0-9_-]+$/.test(taskId) && taskId.length > 0\n} ","<template>\n  <div class=\"home-page\">\n    <!-- 背景装饰 -->\n    <div class=\"bg-decoration\">\n      <div class=\"decoration-circle circle-1\"></div>\n      <div class=\"decoration-circle circle-2\"></div>\n      <div class=\"decoration-circle circle-3\"></div>\n    </div>\n\n    <div class=\"container\">\n      <!-- 头部区域 -->\n      <header class=\"header animate-fade-in-up\">\n        <div class=\"logo\">\n          <div class=\"logo-icon glow-effect\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z\" stroke=\"currentColor\" stroke-width=\"1.5\" fill=\"none\"/>\n              <path d=\"M9 12l2 2 4-4\" stroke=\"currentColor\" stroke-width=\"1.5\" fill=\"none\"/>\n            </svg>\n          </div>\n          <div class=\"logo-text\">\n            <h1 class=\"gradient-text\">Link Copy</h1>\n            <p>智能视频解析与文案提取</p>\n          </div>\n        </div>\n        \n        <van-button \n          class=\"history-btn btn-glass\" \n          icon=\"records\"\n          @click=\"goToHistory\"\n        >\n          历史记录\n        </van-button>\n      </header>\n\n      <!-- 主要内容区域 -->\n      <main class=\"main-content\">\n        <!-- 输入区域 -->\n        <div class=\"input-section animate-fade-in-up\">\n          <div class=\"input-card card-floating\">\n            <div class=\"input-header\">\n              <h2>粘贴视频链接</h2>\n              <p>支持抖音、哔哩哔哩等主流视频平台</p>\n            </div>\n            \n            <div class=\"input-area\">\n              <van-field\n                v-model=\"inputUrl\"\n                type=\"textarea\"\n                placeholder=\"在此粘贴视频链接或分享文本...\"\n                rows=\"3\"\n                maxlength=\"2000\"\n                :disabled=\"isInputDisabled\"\n                class=\"url-input\"\n                @update:model-value=\"onInputChange\"\n                @focus=\"onInputFocus\"\n                @blur=\"onInputBlur\"\n              />\n              \n              <div class=\"input-actions\">\n                <van-button \n                  v-if=\"clipboardSupported\"\n                  class=\"paste-btn btn-glass\"\n                  icon=\"add-o\"\n                  @click=\"pasteFromClipboard\"\n                  :loading=\"pasting\"\n                >\n                  粘贴\n                </van-button>\n                \n                <van-button\n                  type=\"primary\"\n                  class=\"submit-btn btn-primary\"\n                  :loading=\"submitting\"\n                  :disabled=\"!isValidInput || isInputDisabled\"\n                  @click=\"handleSubmit\"\n                >\n                  <template #icon>\n                    <van-icon name=\"play-circle\" />\n                  </template>\n                  开始解析\n                </van-button>\n              </div>\n            </div>\n            \n            <!-- 平台检测提示 -->\n            <div v-if=\"detectedPlatform\" class=\"platform-hint\">\n              <van-tag type=\"primary\" class=\"platform-tag\">\n                <van-icon :name=\"getPlatformIcon(detectedPlatform)\" />\n                检测到：{{ getPlatformName(detectedPlatform) }}\n              </van-tag>\n            </div>\n          </div>\n        </div>\n\n        <!-- 进度显示区域 -->\n        <div v-if=\"showProgress\" class=\"progress-section animate-fade-in-up\">\n          <div class=\"progress-card card-floating\">\n            <div class=\"progress-header\">\n              <div class=\"progress-icon\">\n                <van-loading v-if=\"isProcessing\" size=\"24px\" color=\"#667eea\" />\n                <van-icon v-else-if=\"isCompleted\" name=\"success\" color=\"#10b981\" />\n                <van-icon v-else-if=\"isFailed\" name=\"cross\" color=\"#ef4444\" />\n                <van-icon v-else name=\"clock-o\" color=\"#f59e0b\" />\n              </div>\n              <div class=\"progress-content\">\n                <h3>{{ statusText }}</h3>\n                <p>{{ statusDetail }}</p>\n              </div>\n              <van-button \n                v-if=\"isProcessing\" \n                size=\"small\" \n                type=\"danger\" \n                plain\n                @click=\"handleCancelTask\"\n                :loading=\"canceling\"\n              >\n                取消\n              </van-button>\n            </div>\n            \n            <div v-if=\"isProcessing\" class=\"progress-bar-container\">\n              <div class=\"progress-bar\">\n                <div class=\"progress-fill\" :style=\"{ width: currentProgress + '%' }\"></div>\n              </div>\n              <span class=\"progress-text\">{{ Math.round(currentProgress) }}%</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- 平台支持展示 -->\n        <div class=\"platforms-section animate-fade-in-up\">\n          <div class=\"platforms-card card-floating\">\n            <div class=\"platforms-header\">\n              <h3>支持平台</h3>\n              <p>持续扩展中，更多平台即将支持</p>\n            </div>\n            <div class=\"platforms-grid\">\n              <div \n                v-for=\"platform in supportedPlatforms\" \n                :key=\"platform.name\"\n                class=\"platform-item\"\n              >\n                <div class=\"platform-icon\" :style=\"{ color: platform.color }\">\n                  <van-icon :name=\"platform.icon\" />\n                </div>\n                <span class=\"platform-name\">{{ platform.displayName }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 功能特性 -->\n        <div class=\"features-section animate-fade-in-up\">\n          <div class=\"features-card card-floating\">\n            <div class=\"features-header\">\n              <h3>功能特性</h3>\n              <p>强大的视频处理能力，一站式解决方案</p>\n            </div>\n            <div class=\"features-grid\">\n              <div v-for=\"feature in features\" :key=\"feature.name\" class=\"feature-item\">\n                <div class=\"feature-icon\">\n                  <van-icon :name=\"feature.icon\" />\n                </div>\n                <div class=\"feature-content\">\n                  <h4>{{ feature.name }}</h4>\n                  <p>{{ feature.description }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { showToast, showConfirmDialog } from 'vant'\nimport { useTaskStore } from '@/stores/task'\nimport { isValidUrl, detectPlatform } from '@/utils/validate'\nimport { copyToClipboard, readFromClipboard } from '@/utils/clipboard'\nimport { videoCleaner } from '@/services/video'\n\nconst router = useRouter()\nconst route = useRoute()\nconst taskStore = useTaskStore()\n\n// 响应式数据\nconst inputUrl = ref('')\nconst detectedPlatform = ref('')\nconst submitting = ref(false)\nconst pasting = ref(false)\nconst canceling = ref(false)\n// 模拟进度条\nconst currentProgress = ref(0)\nconst progressTimer = ref(null)\nconst pollingTimer = ref(null)\n\n// 计算属性\nconst isValidInput = computed(() => {\n  const url = inputUrl.value || ''\n  return typeof url === 'string' && url.trim().length > 0 && isValidUrl(url)\n})\n\nconst isInputDisabled = computed(() => {\n  return isProcessing.value || submitting.value || taskStore.isDownloading\n})\n\nconst clipboardSupported = computed(() => {\n  return navigator.clipboard && window.isSecureContext\n})\n\nconst showProgress = computed(() => {\n  return taskStore.currentTask && taskStore.currentTask.status !== 'idle'\n})\n\nconst isProcessing = computed(() => {\n  return ['pending', 'downloading', 'transcribing'].includes(taskStore.currentTask?.status)\n})\n\nconst isCompleted = computed(() => {\n  return taskStore.currentTask?.status === 'completed'\n})\n\nconst isFailed = computed(() => {\n  return taskStore.currentTask?.status === 'failed'\n})\n\nconst statusText = computed(() => {\n  if (!taskStore.currentTask) return ''\n  \n  switch (taskStore.currentTask.status) {\n    case 'pending':\n      return '任务准备中'\n    case 'downloading':\n      return '视频解析中'\n    case 'transcribing':\n      return '音频转文案中'\n    case 'completed':\n      return '处理完成'\n    case 'failed':\n      return '处理失败'\n    default:\n      return ''\n  }\n})\n\nconst statusDetail = computed(() => {\n  if (!taskStore.currentTask) return ''\n  \n  switch (taskStore.currentTask.status) {\n    case 'pending':\n      return '正在创建下载任务...'\n    case 'downloading':\n      return '正在下载视频文件...'\n    case 'transcribing':\n      return '正在转换音频为文案...'\n    case 'completed':\n      return '所有处理步骤已完成'\n    case 'failed':\n      return taskStore.currentTask.errorMessage || '处理过程中出现错误'\n    default:\n      return ''\n  }\n})\n\n// 支持的平台\nconst supportedPlatforms = ref([\n  {\n    name: 'douyin',\n    displayName: '抖音',\n    icon: 'music-o',\n    color: '#000000'\n  },\n  {\n    name: 'bilibili',\n    displayName: '哔哩哔哩',\n    icon: 'video-o',\n    color: '#fb7299'\n  }\n])\n\n// 功能特性\nconst features = ref([\n  {\n    name: '智能解析',\n    description: '自动识别视频平台，快速解析下载链接',\n    icon: 'search'\n  },\n  {\n    name: '高清下载',\n    description: '支持多种分辨率，保证视频质量',\n    icon: 'hd-o'\n  },\n  {\n    name: '音频转文案',\n    description: '利用AI技术将视频音频转换为文字',\n    icon: 'volume-o'\n  },\n  {\n    name: '文案优化',\n    description: '智能优化文案内容，提升可读性',\n    icon: 'edit'\n  }\n])\n\n// 方法\nconst onInputChange = (value) => {\n  // 确保值是字符串\n  const stringValue = String(value || '')\n  inputUrl.value = stringValue\n  \n  // 不再在输入变化时清理任务，避免重复请求clean接口\n  // 只检测平台\n  detectedPlatform.value = detectPlatform(stringValue)\n}\n\nconst onInputFocus = () => {\n  // 输入框获得焦点时的处理\n}\n\nconst onInputBlur = () => {\n  // 输入框失去焦点时的处理\n}\n\nconst pasteFromClipboard = async () => {\n  if (!clipboardSupported.value) {\n    showToast('当前环境不支持剪贴板操作')\n    return\n  }\n  \n  try {\n    pasting.value = true\n    const text = await readFromClipboard()\n    if (text) {\n      inputUrl.value = text\n      onInputChange(text)\n      showToast('粘贴成功')\n    } else {\n      showToast('剪贴板为空')\n    }\n  } catch (error) {\n    console.error('粘贴失败:', error)\n    showToast('粘贴失败')\n  } finally {\n    pasting.value = false\n  }\n}\n\nconst handleSubmit = async () => {\n  if (!isValidInput.value) {\n    showToast('请输入有效的视频链接')\n    return\n  }\n  \n  try {\n    submitting.value = true\n    \n    // 重置进度条\n    currentProgress.value = 0\n    \n    // 确保获取字符串值并清理\n    const url = String(inputUrl.value || '').trim()\n    if (!url) {\n      throw new Error('请输入有效的视频链接')\n    }\n    \n    // 创建下载任务\n    await taskStore.createTask(url)\n    \n    // 开始轮询状态\n    startPolling()\n    \n    showToast('任务创建成功')\n  } catch (error) {\n    console.error('创建任务失败:', error)\n    showToast('创建任务失败: ' + error.message)\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst handleCancelTask = async () => {\n  try {\n    await showConfirmDialog({\n      title: '确认取消',\n      message: '确定要取消当前任务吗？'\n    })\n    \n    canceling.value = true\n    await taskStore.cancelTask()\n    stopPolling()\n    showToast('任务已取消')\n  } catch (error) {\n    if (error !== 'cancel') {\n      console.error('取消任务失败:', error)\n      showToast('取消任务失败')\n    }\n  } finally {\n    canceling.value = false\n  }\n}\n\nconst startPolling = () => {\n  if (pollingTimer.value) return\n  \n  // 开始模拟进度条\n  startProgressAnimation()\n  \n  pollingTimer.value = setInterval(async () => {\n    if (!taskStore.currentTask?.taskId) {\n      stopPolling()\n      return\n    }\n    \n    try {\n      await taskStore.updateTaskStatus()\n      \n      // 如果任务完成或失败，停止轮询并跳转\n      if (['completed', 'failed'].includes(taskStore.currentTask.status)) {\n        stopPolling()\n        \n        if (taskStore.currentTask.status === 'completed') {\n          // 完成时进度条跳到100%\n          currentProgress.value = 100\n          setTimeout(() => {\n            // 跳转到预览页面\n            router.push(`/preview/${taskStore.currentTask.taskId}`)\n          }, 500)\n        }\n      }\n    } catch (error) {\n      console.error('轮询状态失败:', error)\n      // 继续轮询，不中断\n    }\n      }, 5000)\n}\n\nconst startProgressAnimation = () => {\n  currentProgress.value = 0\n  \n  progressTimer.value = setInterval(() => {\n    if (currentProgress.value < 99) {\n      // 模拟进度增长，越接近99%越慢\n      const increment = Math.max(0.5, (99 - currentProgress.value) * 0.1)\n      currentProgress.value = Math.min(99, currentProgress.value + increment)\n    }\n  }, 200)\n}\n\nconst stopProgressAnimation = () => {\n  if (progressTimer.value) {\n    clearInterval(progressTimer.value)\n    progressTimer.value = null\n  }\n}\n\nconst stopPolling = () => {\n  if (pollingTimer.value) {\n    clearInterval(pollingTimer.value)\n    pollingTimer.value = null\n  }\n  stopProgressAnimation()\n}\n\nconst goToHistory = () => {\n  router.push('/history')\n}\n\nconst getPlatformIcon = (platform) => {\n  const platformConfig = supportedPlatforms.value.find(p => p.name === platform)\n  return platformConfig?.icon || 'play-circle'\n}\n\nconst getPlatformName = (platform) => {\n  const platformConfig = supportedPlatforms.value.find(p => p.name === platform)\n  return platformConfig?.displayName || platform\n}\n\n// 生命周期\nonMounted(() => {\n  // 页面加载时清理之前的任务（只在刷新时执行）\n  if (taskStore.currentTask?.taskId) {\n    console.log('页面刷新，清理之前的任务:', taskStore.currentTask.taskId)\n    videoCleaner.cleanTask(taskStore.currentTask.taskId)\n  }\n})\n\nonUnmounted(() => {\n  stopPolling()\n})\n\n// 监听路由变化，停止轮询\nwatch(() => route.path, () => {\n  stopPolling()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.home-page {\n  min-height: 100vh;\n  position: relative;\n  background: $bg-primary;\n  \n  .bg-decoration {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    z-index: 0;\n    \n    .decoration-circle {\n      position: absolute;\n      border-radius: 50%;\n      background: $primary-gradient;\n      opacity: 0.1;\n      animation: float 6s ease-in-out infinite;\n      \n      &.circle-1 {\n        width: 200px;\n        height: 200px;\n        top: 10%;\n        left: 10%;\n        animation-delay: 0s;\n      }\n      \n      &.circle-2 {\n        width: 150px;\n        height: 150px;\n        top: 60%;\n        right: 15%;\n        animation-delay: 2s;\n      }\n      \n      &.circle-3 {\n        width: 100px;\n        height: 100px;\n        bottom: 20%;\n        left: 60%;\n        animation-delay: 4s;\n      }\n    }\n  }\n  \n  .container {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 0 $space-md;\n    position: relative;\n    \n    @include respond-to('md') {\n      padding: 0 $space-lg;\n    }\n  }\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: $space-2xl 0;\n  \n  .logo {\n    display: flex;\n    align-items: center;\n    gap: $space-md;\n    \n    .logo-icon {\n      width: 56px;\n      height: 56px;\n      @include glass-effect(0.2);\n      border-radius: $radius-xl;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.3s ease;\n      \n      &:hover {\n        transform: scale(1.05);\n        box-shadow: $shadow-glow;\n      }\n      \n      svg {\n        width: 28px;\n        height: 28px;\n        color: $primary-color;\n      }\n    }\n    \n    .logo-text {\n      h1 {\n        font-size: $font-3xl;\n        font-weight: $font-bold;\n        margin: 0;\n        letter-spacing: -0.025em;\n      }\n      \n      p {\n        font-size: $font-sm;\n        color: $text-secondary;\n        margin: 4px 0 0 0;\n      }\n    }\n  }\n  \n  .history-btn {\n    @include glass-effect(0.15);\n    color: $text-secondary;\n    border: none;\n    \n    &:hover {\n      @include glass-effect(0.25);\n      color: $primary-color;\n    }\n  }\n}\n\n.main-content {\n  display: flex;\n  flex-direction: column;\n  gap: $space-2xl;\n  padding-bottom: $space-3xl;\n}\n\n.input-section {\n  .input-card {\n    @include card-style($shadow-floating);\n    padding: $space-2xl;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: $shadow-heavy;\n    }\n    \n    .input-header {\n      text-align: center;\n      margin-bottom: $space-xl;\n      \n      h2 {\n        font-size: $font-2xl;\n        font-weight: $font-semibold;\n        color: $text-primary;\n        margin: 0 0 $space-sm 0;\n      }\n      \n      p {\n        color: $text-secondary;\n        margin: 0;\n        font-size: $font-base;\n      }\n    }\n    \n    .input-area {\n      .url-input {\n        :deep(.van-field__control) {\n          border: 2px solid $border-light;\n          border-radius: $radius-lg;\n          padding: $space-lg;\n          font-size: $font-base;\n          transition: all 0.3s ease;\n          resize: none;\n          background: $bg-tertiary;\n          \n          &:focus {\n            border-color: $primary-color;\n            outline: none;\n            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n            background: $bg-primary;\n          }\n          \n          &::placeholder {\n            color: $text-light;\n          }\n        }\n      }\n      \n      .input-actions {\n        display: flex;\n        gap: $space-md;\n        margin-top: $space-lg;\n        \n        .paste-btn {\n          flex: 0 0 auto;\n          min-width: 100px;\n        }\n        \n        .submit-btn {\n          flex: 1;\n          height: 56px;\n          border-radius: $radius-lg;\n          font-weight: $font-semibold;\n          font-size: $font-lg;\n          @include gradient-bg;\n          border: none;\n          color: white;\n          \n          &:disabled {\n            opacity: 0.6;\n            background: $text-light;\n            cursor: not-allowed;\n          }\n          \n          &:not(:disabled):hover {\n            transform: translateY(-2px);\n            box-shadow: $shadow-floating;\n          }\n        }\n      }\n    }\n    \n    .platform-hint {\n      margin-top: $space-md;\n      text-align: center;\n      \n      .platform-tag {\n        @include glass-effect(0.2);\n        border: none;\n        color: $primary-color;\n        \n        .van-icon {\n          margin-right: 4px;\n        }\n      }\n    }\n  }\n}\n\n.progress-section {\n  .progress-card {\n    @include card-style($shadow-light, $bg-primary);\n    padding: $space-xl;\n    border: 1px solid $border-light;\n    \n    .progress-header {\n      display: flex;\n      align-items: center;\n      gap: $space-md;\n      margin-bottom: $space-lg;\n      \n      .progress-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        background: $bg-tertiary;\n      }\n      \n      .progress-content {\n        flex: 1;\n        \n        h3 {\n          font-size: $font-lg;\n          font-weight: $font-semibold;\n          color: $text-primary;\n          margin: 0 0 4px 0;\n        }\n        \n        p {\n          font-size: $font-sm;\n          color: $text-secondary;\n          margin: 0;\n        }\n      }\n    }\n    \n    .progress-bar-container {\n      display: flex;\n      align-items: center;\n      gap: $space-md;\n      \n      .progress-bar {\n        flex: 1;\n        height: 8px;\n        background: $bg-tertiary;\n        border-radius: $radius-full;\n        overflow: hidden;\n        \n        .progress-fill {\n          height: 100%;\n          background: $primary-gradient;\n          border-radius: $radius-full;\n          transition: width 0.3s ease;\n        }\n      }\n      \n      .progress-text {\n        font-size: $font-sm;\n        font-weight: $font-medium;\n        color: $text-secondary;\n        min-width: 40px;\n        text-align: right;\n      }\n    }\n  }\n}\n\n.platforms-section,\n.features-section {\n  .platforms-card,\n  .features-card {\n    @include card-style($shadow-light);\n    padding: $space-xl;\n    \n    .platforms-header,\n    .features-header {\n      text-align: center;\n      margin-bottom: $space-xl;\n      \n      h3 {\n        font-size: $font-xl;\n        font-weight: $font-semibold;\n        color: $text-primary;\n        margin: 0 0 $space-sm 0;\n      }\n      \n      p {\n        color: $text-secondary;\n        margin: 0;\n        font-size: $font-sm;\n      }\n    }\n  }\n}\n\n.platforms-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: $space-lg;\n  \n  .platform-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: $space-sm;\n    padding: $space-lg;\n    border-radius: $radius-lg;\n    background: $bg-tertiary;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: $shadow-floating;\n      background: $bg-primary;\n    }\n    \n    .platform-icon {\n      width: 40px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n      background: white;\n      box-shadow: $shadow-light;\n      \n      .van-icon {\n        font-size: 20px;\n      }\n    }\n    \n    .platform-name {\n      font-size: $font-sm;\n      font-weight: $font-medium;\n      color: $text-primary;\n    }\n  }\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: $space-lg;\n  \n  .feature-item {\n    display: flex;\n    gap: $space-md;\n    padding: $space-lg;\n    border-radius: $radius-lg;\n    background: $bg-tertiary;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: $shadow-floating;\n      background: $bg-primary;\n    }\n    \n    .feature-icon {\n      width: 48px;\n      height: 48px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n      background: $primary-gradient;\n      color: white;\n      flex-shrink: 0;\n      \n      .van-icon {\n        font-size: 20px;\n      }\n    }\n    \n    .feature-content {\n      h4 {\n        font-size: $font-base;\n        font-weight: $font-semibold;\n        color: $text-primary;\n        margin: 0 0 4px 0;\n      }\n      \n      p {\n        font-size: $font-sm;\n        color: $text-secondary;\n        margin: 0;\n        line-height: 1.5;\n      }\n    }\n  }\n}\n\n@keyframes float {\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-20px);\n  }\n}\n</style> "],"names":["isValidUrl","url","pattern","detectPlatform","lowerUrl","router","useRouter","route","useRoute","taskStore","useTaskStore","inputUrl","ref","detectedPlatform","submitting","pasting","canceling","currentProgress","progressTimer","pollingTimer","isValidInput","computed","isInputDisabled","isProcessing","clipboardSupported","showProgress","_a","isCompleted","isFailed","statusText","statusDetail","supportedPlatforms","features","onInputChange","value","stringValue","onInputFocus","onInputBlur","pasteFromClipboard","showToast","text","readFromClipboard","error","handleSubmit","startPolling","handleCancelTask","showConfirmDialog","stopPolling","startProgressAnimation","increment","stopProgressAnimation","goToHistory","getPlatformIcon","platform","platformConfig","p","getPlatformName","onMounted","videoCleaner","onUnmounted","watch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_withCtx","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","_toDisplayString","_hoisted_15","_hoisted_16","_normalizeStyle","_hoisted_18","_hoisted_19","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26"],"mappings":"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"}