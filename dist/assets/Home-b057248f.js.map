{"version":3,"file":"Home-b057248f.js","sources":["../../src/utils/validate.js","../../src/views/Home.vue"],"sourcesContent":["// URL验证\nexport const isValidUrl = (url) => {\n  if (!url || typeof url !== 'string') return false\n  \n  try {\n    new URL(url)\n    return true\n  } catch {\n    // 如果不是完整URL，检查是否包含常见视频平台域名\n    const videoPatterns = [\n      /douyin\\.com/i,\n      /dy\\.com/i,\n      /bilibili\\.com/i,\n      /b23\\.tv/i,\n      /youtube\\.com/i,\n      /youtu\\.be/i\n    ]\n    \n    return videoPatterns.some(pattern => pattern.test(url))\n  }\n}\n\n// 视频URL验证\nexport const isVideoUrl = (url) => {\n  if (!isValidUrl(url)) return false\n  \n  const videoPatterns = [\n    /douyin\\.com/i,\n    /dy\\.com/i,\n    /bilibili\\.com/i,\n    /b23\\.tv/i,\n    /youtube\\.com/i,\n    /youtu\\.be/i,\n    /tiktok\\.com/i\n  ]\n  \n  return videoPatterns.some(pattern => pattern.test(url))\n}\n\n// 检测视频平台\nexport const detectPlatform = (url) => {\n  if (!url) return null\n  \n  const lowerUrl = url.toLowerCase()\n  \n  if (lowerUrl.includes('douyin.com') || lowerUrl.includes('dy.com')) {\n    return 'douyin'\n  }\n  \n  if (lowerUrl.includes('bilibili.com') || lowerUrl.includes('b23.tv')) {\n    return 'bilibili'\n  }\n  \n  if (lowerUrl.includes('youtube.com') || lowerUrl.includes('youtu.be')) {\n    return 'youtube'\n  }\n  \n  if (lowerUrl.includes('tiktok.com')) {\n    return 'tiktok'\n  }\n  \n  return null\n}\n\n// 提取分享文本中的URL\nexport const extractUrlFromText = (text) => {\n  if (!text) return null\n  \n  // 匹配URL的正则表达式\n  const urlRegex = /(https?:\\/\\/[^\\s]+)/g\n  const matches = text.match(urlRegex)\n  \n  if (matches && matches.length > 0) {\n    return matches[0].replace(/[.,;!?]$/, '') // 移除末尾的标点符号\n  }\n  \n  return null\n}\n\n// 验证任务ID格式\nexport const isValidTaskId = (taskId) => {\n  if (!taskId || typeof taskId !== 'string') return false\n  \n  // 任务ID应该是非空字符串，通常包含字母、数字、下划线、连字符\n  return /^[a-zA-Z0-9_-]+$/.test(taskId) && taskId.length > 0\n} ","<template>\n  <div class=\"home-page\">\n    <!-- 背景装饰 -->\n    <div class=\"bg-decoration\">\n      <div class=\"decoration-circle circle-1\"></div>\n      <div class=\"decoration-circle circle-2\"></div>\n      <div class=\"decoration-circle circle-3\"></div>\n    </div>\n\n    <div class=\"container\">\n      <!-- 头部区域 -->\n      <header class=\"header animate-fade-in-up\">\n        <div class=\"logo\">\n          <div class=\"logo-icon glow-effect\">\n            <svg viewBox=\"0 0 24 24\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n              <path d=\"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z\" stroke=\"currentColor\" stroke-width=\"1.5\" fill=\"none\"/>\n              <path d=\"M9 12l2 2 4-4\" stroke=\"currentColor\" stroke-width=\"1.5\" fill=\"none\"/>\n            </svg>\n          </div>\n          <div class=\"logo-text\">\n            <h1 class=\"gradient-text\">Link Copy</h1>\n            <p>智能视频解析与文案提取</p>\n          </div>\n        </div>\n        \n        <van-button \n          class=\"install-btn btn-glass\"\n          icon=\"wap-home-o\"\n          @click=\"handleInstallClick\"\n        >\n          添加到桌面\n        </van-button>\n      </header>\n\n      <!-- 主要内容区域 -->\n      <main class=\"main-content\">\n        <!-- 输入区域 -->\n        <div class=\"input-section animate-fade-in-up\">\n          <div class=\"input-card card-floating\">\n            <!-- 选项卡切换 -->\n            <div class=\"tab-switcher\">\n              <div class=\"tab-buttons\">\n                <button \n                  :class=\"['tab-button', { active: activeTab === 'link' }]\"\n                  @click=\"switchTab('link')\"\n                >\n                  <van-icon name=\"link\" />\n                  <span>链接解析</span>\n                </button>\n                <button \n                  :class=\"['tab-button', { active: activeTab === 'upload' }]\"\n                  @click=\"switchTab('upload')\"\n                >\n                  <van-icon name=\"upgrade\" />\n                  <span>文件上传</span>\n                </button>\n              </div>\n            </div>\n\n            <!-- 链接解析界面 -->\n            <div v-if=\"activeTab === 'link'\" class=\"tab-content\">\n              <div class=\"input-header\">\n                <h2>粘贴视频链接</h2>\n                <p>支持抖音、哔哩哔哩等主流视频平台</p>\n              </div>\n              \n              <div class=\"input-area\">\n                <van-field\n                  v-model=\"inputUrl\"\n                  type=\"textarea\"\n                  placeholder=\"在此粘贴视频链接或分享文本...\"\n                  rows=\"3\"\n                  maxlength=\"2000\"\n                  :disabled=\"isInputDisabled\"\n                  class=\"url-input\"\n                  @update:model-value=\"onInputChange\"\n                  @focus=\"onInputFocus\"\n                  @blur=\"onInputBlur\"\n                />\n                \n                <div class=\"input-actions\">\n                  <van-button \n                    v-if=\"clipboardSupported\"\n                    class=\"paste-btn btn-glass\"\n                    icon=\"add-o\"\n                    @click=\"pasteFromClipboard\"\n                    :loading=\"pasting\"\n                  >\n                    粘贴\n                  </van-button>\n                  \n                  <van-button\n                    type=\"primary\"\n                    class=\"submit-btn btn-primary\"\n                    :loading=\"submitting\"\n                    :disabled=\"!isValidInput || isInputDisabled\"\n                    @click=\"handleSubmit\"\n                  >\n                    <template #icon>\n                      <van-icon name=\"play-circle\" />\n                    </template>\n                    开始解析\n                  </van-button>\n                </div>\n              </div>\n              \n              <!-- 平台检测提示 -->\n              <div v-if=\"detectedPlatform\" class=\"platform-hint\">\n                <van-tag type=\"primary\" class=\"platform-tag\">\n                  <van-icon :name=\"getPlatformIcon(detectedPlatform)\" />\n                  检测到：{{ getPlatformName(detectedPlatform) }}\n                </van-tag>\n              </div>\n            </div>\n\n            <!-- 文件上传界面 -->\n            <div v-if=\"activeTab === 'upload'\" class=\"tab-content\">\n              <div class=\"input-header\">\n                <h2>上传视频文件</h2>\n                <p>支持 MP4、AVI、MOV 等格式，文件大小不超过 500MB</p>\n              </div>\n              \n              <div class=\"upload-area\">\n                <!-- 文件拖拽区域 -->\n                <div \n                  class=\"upload-dropzone\"\n                  :class=\"{ \n                    'dragover': isDragOver, \n                    'has-file': selectedFile,\n                    'disabled': isInputDisabled \n                  }\"\n                  @click=\"triggerFileSelect\"\n                  @dragover.prevent=\"handleDragOver\"\n                  @dragleave.prevent=\"handleDragLeave\"\n                  @drop.prevent=\"handleFileDrop\"\n                >\n                  <input \n                    ref=\"fileInput\"\n                    type=\"file\"\n                    accept=\"video/*,.mp4,.avi,.mov,.wmv,.flv,.webm,.mkv,.m4v,.3gp,.ogv\"\n                    @change=\"handleFileSelect\"\n                    style=\"display: none\"\n                    :disabled=\"isInputDisabled\"\n                  />\n                  \n                  <div v-if=\"!selectedFile\" class=\"upload-prompt\">\n                    <div class=\"upload-icon\">\n                      <van-icon name=\"plus\" size=\"48px\" />\n                    </div>\n                    <h3>点击选择或拖拽视频文件</h3>\n                    <p>支持 MP4、AVI、MOV、WMV、FLV、WEBM、MKV、M4V、3GP、OGV</p>\n                    <p class=\"size-hint\">文件大小限制：500MB</p>\n                  </div>\n                  \n                  <div v-else class=\"file-preview\">\n                    <div class=\"file-icon\">\n                      <van-icon name=\"video-o\" size=\"48px\" />\n                    </div>\n                    <div class=\"file-info\">\n                      <h4>{{ selectedFile.name }}</h4>\n                      <p>{{ formatFileSize(selectedFile.size) }}</p>\n                    </div>\n                    <van-button \n                      size=\"small\" \n                      type=\"danger\" \n                      plain\n                      @click.stop=\"removeSelectedFile\"\n                    >\n                      移除\n                    </van-button>\n                  </div>\n                </div>\n                \n                <!-- 上传操作按钮 -->\n                <div class=\"upload-actions\">\n                  <van-button\n                    type=\"primary\"\n                    class=\"upload-btn btn-primary\"\n                    :loading=\"uploading\"\n                    :disabled=\"!selectedFile || isInputDisabled\"\n                    @click=\"handleFileUpload\"\n                  >\n                    <template #icon>\n                      <van-icon name=\"upgrade\" />\n                    </template>\n                    开始上传\n                  </van-button>\n                </div>\n                \n                <!-- 上传进度 -->\n                <div v-if=\"uploadProgress > 0 && uploading\" class=\"upload-progress\">\n                  <div class=\"progress-info\">\n                    <span>上传进度</span>\n                    <span>{{ uploadProgress }}%</span>\n                  </div>\n                  <van-progress\n                    :percentage=\"uploadProgress\"\n                    stroke-width=\"8\"\n                    color=\"#667eea\"\n                    track-color=\"rgba(102, 126, 234, 0.1)\"\n                  />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 进度显示区域 -->\n        <div v-if=\"showProgress\" class=\"progress-section animate-fade-in-up\">\n          <div class=\"progress-card card-floating\">\n            <div class=\"progress-header\">\n              <div class=\"progress-icon\">\n                <van-loading v-if=\"isProcessing\" size=\"24px\" color=\"#667eea\" />\n                <van-icon v-else-if=\"isCompleted\" name=\"success\" color=\"#10b981\" />\n                <van-icon v-else-if=\"isFailed\" name=\"cross\" color=\"#ef4444\" />\n                <van-icon v-else name=\"clock-o\" color=\"#f59e0b\" />\n              </div>\n              <div class=\"progress-content\">\n                <h3>{{ statusText }}</h3>\n                <p>{{ statusDetail }}</p>\n              </div>\n              <van-button \n                v-if=\"isProcessing\" \n                size=\"small\" \n                type=\"danger\" \n                plain\n                @click=\"handleCancelTask\"\n                :loading=\"canceling\"\n              >\n                取消\n              </van-button>\n            </div>\n            \n            <div v-if=\"isProcessing\" class=\"progress-bar-container\">\n              <div class=\"progress-bar\">\n                <div class=\"progress-fill\" :style=\"{ width: currentProgress + '%' }\"></div>\n              </div>\n              <span class=\"progress-text\">{{ Math.round(currentProgress) }}%</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- 平台支持展示 -->\n        <div class=\"platforms-section animate-fade-in-up\">\n          <div class=\"platforms-card card-floating\">\n            <div class=\"platforms-header\">\n              <h3>支持平台</h3>\n              <p>持续扩展中，更多平台即将支持</p>\n            </div>\n            <div class=\"platforms-grid\">\n              <div \n                v-for=\"platform in supportedPlatforms\" \n                :key=\"platform.name\"\n                class=\"platform-item\"\n              >\n                <div class=\"platform-icon\" :style=\"{ color: platform.color }\">\n                  <van-icon :name=\"platform.icon\" />\n                </div>\n                <span class=\"platform-name\">{{ platform.displayName }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- 功能特性 -->\n        <div class=\"features-section animate-fade-in-up\">\n          <div class=\"features-card card-floating\">\n            <div class=\"features-header\">\n              <h3>功能特性</h3>\n              <p>强大的视频处理能力，一站式解决方案</p>\n            </div>\n            <div class=\"features-grid\">\n              <div v-for=\"feature in features\" :key=\"feature.name\" class=\"feature-item\">\n                <div class=\"feature-icon\">\n                  <van-icon :name=\"feature.icon\" />\n                </div>\n                <div class=\"feature-content\">\n                  <h4>{{ feature.name }}</h4>\n                  <p>{{ feature.description }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </main>\n    </div>\n    \n    <!-- 安装提示组件 -->\n    <InstallPrompt \n      v-model=\"showInstallPrompt\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted, watch } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { showToast, showConfirmDialog } from 'vant'\nimport { useTaskStore } from '@/stores/task'\nimport { isValidUrl, detectPlatform } from '@/utils/validate'\nimport { copyToClipboard, readFromClipboard } from '@/utils/clipboard'\nimport { videoCleaner } from '@/services/video'\nimport InstallPrompt from '@/components/InstallPrompt.vue'\n\nconst router = useRouter()\nconst route = useRoute()\nconst taskStore = useTaskStore()\n\n// 响应式数据\nconst inputUrl = ref('')\nconst detectedPlatform = ref('')\nconst submitting = ref(false)\nconst pasting = ref(false)\nconst canceling = ref(false)\n// 模拟进度条\nconst currentProgress = ref(0)\nconst progressTimer = ref(null)\nconst pollingTimer = ref(null)\n\n// 文件上传相关\nconst activeTab = ref('link') // 当前激活的选项卡\nconst selectedFile = ref(null) // 选中的文件\nconst uploading = ref(false) // 上传状态\nconst uploadProgress = ref(0) // 上传进度\nconst isDragOver = ref(false) // 拖拽状态\nconst fileInput = ref(null) // 文件input引用\n\n// 安装提示相关\nconst showInstallPrompt = ref(false)\nconst deviceType = ref('desktop')\nconst deferredPrompt = ref(null)\nconst canAutoInstall = ref(false)\n\n// 计算属性\nconst isValidInput = computed(() => {\n  const url = inputUrl.value || ''\n  return typeof url === 'string' && url.trim().length > 0 && isValidUrl(url)\n})\n\nconst isInputDisabled = computed(() => {\n  return isProcessing.value || submitting.value || uploading.value || taskStore.isDownloading\n})\n\nconst clipboardSupported = computed(() => {\n  return navigator.clipboard && window.isSecureContext\n})\n\nconst showProgress = computed(() => {\n  return taskStore.currentTask && taskStore.currentTask.status !== 'idle'\n})\n\nconst isProcessing = computed(() => {\n  return ['pending', 'downloading', 'transcribing'].includes(taskStore.currentTask?.status)\n})\n\nconst isCompleted = computed(() => {\n  return taskStore.currentTask?.status === 'completed'\n})\n\nconst isFailed = computed(() => {\n  return taskStore.currentTask?.status === 'failed'\n})\n\nconst statusText = computed(() => {\n  if (!taskStore.currentTask) return ''\n  \n  switch (taskStore.currentTask.status) {\n    case 'pending':\n      return '任务准备中'\n    case 'downloading':\n      return '视频解析中'\n    case 'transcribing':\n      return '音频转文案中'\n    case 'completed':\n      return '处理完成'\n    case 'failed':\n      return '处理失败'\n    default:\n      return ''\n  }\n})\n\nconst statusDetail = computed(() => {\n  if (!taskStore.currentTask) return ''\n  \n  switch (taskStore.currentTask.status) {\n    case 'pending':\n      return '正在创建下载任务...'\n    case 'downloading':\n      return '正在下载视频文件...'\n    case 'transcribing':\n      return '正在转换音频为文案...'\n    case 'completed':\n      return '所有处理步骤已完成'\n    case 'failed':\n      return taskStore.currentTask.errorMessage || '处理过程中出现错误'\n    default:\n      return ''\n  }\n})\n\n// 支持的平台\nconst supportedPlatforms = ref([\n  {\n    name: 'douyin',\n    displayName: '抖音',\n    icon: 'music-o',\n    color: '#000000'\n  },\n  {\n    name: 'bilibili',\n    displayName: '哔哩哔哩',\n    icon: 'video-o',\n    color: '#fb7299'\n  },\n  {\n    name: 'upload',\n    displayName: '文件上传',\n    icon: 'upgrade',\n    color: '#667eea'\n  }\n])\n\n// 功能特性\nconst features = ref([\n  {\n    name: '智能解析',\n    description: '自动识别视频平台，快速解析下载链接',\n    icon: 'search'\n  },\n  {\n    name: '文件上传',\n    description: '直接上传本地视频文件，支持多种格式',\n    icon: 'upgrade'\n  },\n  {\n    name: '高清下载',\n    description: '支持多种分辨率，保证视频质量',\n    icon: 'down'\n  },\n  {\n    name: '音频转文案',\n    description: '利用AI技术将视频音频转换为文字',\n    icon: 'volume-o'\n  },\n  {\n    name: '文案优化',\n    description: '智能优化文案内容，提升可读性',\n    icon: 'edit'\n  }\n])\n\n// 方法\nconst onInputChange = (value) => {\n  // 确保值是字符串\n  const stringValue = String(value || '')\n  inputUrl.value = stringValue\n  \n  // 不再在输入变化时清理任务，避免重复请求clean接口\n  // 只检测平台\n  detectedPlatform.value = detectPlatform(stringValue)\n}\n\nconst onInputFocus = () => {\n  // 输入框获得焦点时的处理\n}\n\nconst onInputBlur = () => {\n  // 输入框失去焦点时的处理\n}\n\nconst pasteFromClipboard = async () => {\n  if (!clipboardSupported.value) {\n    showToast('当前环境不支持剪贴板操作')\n    return\n  }\n  \n  try {\n    pasting.value = true\n    const text = await readFromClipboard()\n    if (text) {\n      inputUrl.value = text\n      onInputChange(text)\n      showToast('粘贴成功')\n    } else {\n      showToast('剪贴板为空')\n    }\n  } catch (error) {\n    console.error('粘贴失败:', error)\n    showToast('粘贴失败')\n  } finally {\n    pasting.value = false\n  }\n}\n\nconst handleSubmit = async () => {\n  if (!isValidInput.value) {\n    showToast('请输入有效的视频链接')\n    return\n  }\n  \n  try {\n    submitting.value = true\n    \n    // 重置进度条\n    currentProgress.value = 0\n    \n    // 确保获取字符串值并清理\n    const url = String(inputUrl.value || '').trim()\n    if (!url) {\n      throw new Error('请输入有效的视频链接')\n    }\n    \n    // 创建下载任务\n    await taskStore.createTask(url)\n    \n    // 开始轮询状态\n    startPolling()\n    \n    showToast('任务创建成功')\n  } catch (error) {\n    console.error('创建任务失败:', error)\n    showToast('创建任务失败: ' + error.message)\n  } finally {\n    submitting.value = false\n  }\n}\n\nconst handleCancelTask = async () => {\n  try {\n    await showConfirmDialog({\n      title: '确认取消',\n      message: '确定要取消当前任务吗？'\n    })\n    \n    canceling.value = true\n    await taskStore.cancelTask()\n    stopPolling()\n    showToast('任务已取消')\n  } catch (error) {\n    if (error !== 'cancel') {\n      console.error('取消任务失败:', error)\n      showToast('取消任务失败')\n    }\n  } finally {\n    canceling.value = false\n  }\n}\n\nconst startPolling = () => {\n  if (pollingTimer.value) return\n  \n  // 开始模拟进度条\n  startProgressAnimation()\n  \n  pollingTimer.value = setInterval(async () => {\n    if (!taskStore.currentTask?.taskId) {\n      stopPolling()\n      return\n    }\n    \n    try {\n      await taskStore.updateTaskStatus()\n      \n      // 如果任务完成或失败，停止轮询并跳转\n      if (['completed', 'failed'].includes(taskStore.currentTask.status)) {\n        stopPolling()\n        \n        if (taskStore.currentTask.status === 'completed') {\n          // 完成时进度条跳到100%\n          currentProgress.value = 100\n          setTimeout(() => {\n            // 跳转到预览页面\n            router.push(`/preview/${taskStore.currentTask.taskId}`)\n          }, 500)\n        }\n      }\n    } catch (error) {\n      console.error('轮询状态失败:', error)\n      // 继续轮询，不中断\n    }\n      }, 5000)\n}\n\nconst startProgressAnimation = () => {\n  currentProgress.value = 0\n  \n  progressTimer.value = setInterval(() => {\n    if (currentProgress.value < 99) {\n      // 模拟进度增长，越接近99%越慢\n      const increment = Math.max(0.5, (99 - currentProgress.value) * 0.1)\n      currentProgress.value = Math.min(99, currentProgress.value + increment)\n    }\n  }, 200)\n}\n\nconst stopProgressAnimation = () => {\n  if (progressTimer.value) {\n    clearInterval(progressTimer.value)\n    progressTimer.value = null\n  }\n}\n\nconst stopPolling = () => {\n  if (pollingTimer.value) {\n    clearInterval(pollingTimer.value)\n    pollingTimer.value = null\n  }\n  stopProgressAnimation()\n}\n\n// 检测设备类型\nconst detectDevice = () => {\n  const userAgent = navigator.userAgent.toLowerCase()\n  \n  if (/iphone|ipad|ipod/.test(userAgent)) {\n    deviceType.value = 'ios'\n  } else if (/android/.test(userAgent)) {\n    deviceType.value = 'android'\n  } else {\n    deviceType.value = 'desktop'\n  }\n}\n\n// 处理安装按钮点击\nconst handleInstallClick = async () => {\n  console.log('🎯 用户点击安装按钮')\n  console.log('设备类型:', deviceType.value)\n  console.log('是否支持自动安装:', canAutoInstall.value)\n  \n  // 优先尝试Android Chrome的一键安装\n  if (canAutoInstall.value && deviceType.value === 'android' && deferredPrompt.value) {\n    try {\n      console.log('🚀 尝试一键安装')\n      // 显示安装提示\n      deferredPrompt.value.prompt()\n      \n      // 等待用户响应\n      const { outcome } = await deferredPrompt.value.userChoice\n      console.log('用户选择:', outcome)\n      \n      if (outcome === 'accepted') {\n        console.log('✅ 用户接受了安装')\n        showToast({\n          message: '安装成功！请在桌面查看应用',\n          type: 'success',\n          duration: 3000\n        })\n        return // 安装成功，不再显示指引\n      } else {\n        console.log('❌ 用户拒绝了安装')\n      }\n      \n      // 清除deferredPrompt，因为它只能使用一次\n      deferredPrompt.value = null\n      canAutoInstall.value = false\n    } catch (error) {\n      console.error('一键安装失败:', error)\n    }\n  }\n  \n  // 显示安装指引（包括一键安装失败的情况）\n  console.log('📱 显示安装指引')\n  showInstallPrompt.value = true\n}\n\nconst getPlatformIcon = (platform) => {\n  const platformConfig = supportedPlatforms.value.find(p => p.name === platform)\n  return platformConfig?.icon || 'play-circle'\n}\n\nconst getPlatformName = (platform) => {\n  const platformConfig = supportedPlatforms.value.find(p => p.name === platform)\n  return platformConfig?.displayName || platform\n}\n\n// 文件上传相关方法\nconst switchTab = (tab) => {\n  activeTab.value = tab\n  // 切换选项卡时重置状态\n  if (tab === 'link') {\n    resetFileUpload()\n  } else {\n    inputUrl.value = ''\n    detectedPlatform.value = ''\n  }\n}\n\nconst resetFileUpload = () => {\n  selectedFile.value = null\n  uploadProgress.value = 0\n  isDragOver.value = false\n}\n\nconst triggerFileSelect = () => {\n  if (!isInputDisabled.value && fileInput.value) {\n    fileInput.value.click()\n  }\n}\n\nconst handleFileSelect = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    validateAndSetFile(file)\n  }\n}\n\nconst handleFileDrop = (event) => {\n  isDragOver.value = false\n  if (isInputDisabled.value) return\n  \n  const files = event.dataTransfer.files\n  if (files.length > 0) {\n    validateAndSetFile(files[0])\n  }\n}\n\nconst handleDragOver = () => {\n  if (!isInputDisabled.value) {\n    isDragOver.value = true\n  }\n}\n\nconst handleDragLeave = () => {\n  isDragOver.value = false\n}\n\nconst validateAndSetFile = (file) => {\n  // 文件大小验证（500MB）\n  const maxSize = 500 * 1024 * 1024\n  if (file.size > maxSize) {\n    showToast(`文件大小不能超过500MB，当前文件：${formatFileSize(file.size)}`)\n    return\n  }\n  \n  // 文件类型验证\n  const supportedTypes = [\n    'video/mp4', 'video/avi', 'video/quicktime', 'video/x-msvideo',\n    'video/x-flv', 'video/webm', 'video/x-matroska', 'video/mp4v-es',\n    'video/3gpp', 'video/ogg'\n  ]\n  \n  const supportedExtensions = [\n    '.mp4', '.avi', '.mov', '.wmv', '.flv', '.webm', '.mkv', '.m4v', '.3gp', '.ogv'\n  ]\n  \n  const fileName = file.name.toLowerCase()\n  const fileExtension = fileName.substring(fileName.lastIndexOf('.'))\n  \n  if (!supportedTypes.includes(file.type) && !supportedExtensions.includes(fileExtension)) {\n    showToast('不支持的视频格式，请上传 MP4、AVI、MOV、WMV、FLV、WEBM、MKV、M4V、3GP、OGV 格式的视频文件')\n    return\n  }\n  \n  selectedFile.value = file\n  showToast('文件选择成功')\n}\n\nconst removeSelectedFile = () => {\n  selectedFile.value = null\n  uploadProgress.value = 0\n  if (fileInput.value) {\n    fileInput.value.value = ''\n  }\n}\n\nconst handleFileUpload = async () => {\n  if (!selectedFile.value) {\n    showToast('请先选择视频文件')\n    return\n  }\n  \n  try {\n    uploading.value = true\n    uploadProgress.value = 0\n    \n    // 创建上传任务\n    await taskStore.createUploadTask(selectedFile.value, (progress) => {\n      uploadProgress.value = progress\n    })\n    \n    // 开始轮询状态\n    startPolling()\n    \n    showToast('文件上传成功')\n  } catch (error) {\n    console.error('文件上传失败:', error)\n    showToast('文件上传失败: ' + error.message)\n  } finally {\n    uploading.value = false\n  }\n}\n\nconst formatFileSize = (bytes) => {\n  if (bytes === 0) return '0 B'\n  const k = 1024\n  const sizes = ['B', 'KB', 'MB', 'GB']\n  const i = Math.floor(Math.log(bytes) / Math.log(k))\n  return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i]\n}\n\n// 生命周期\nonMounted(() => {\n  // 页面加载时清理之前的任务（只在刷新时执行）\n  if (taskStore.currentTask?.taskId) {\n    console.log('页面刷新，清理之前的任务:', taskStore.currentTask.taskId)\n    videoCleaner.cleanTask(taskStore.currentTask.taskId)\n  }\n  \n  // 重置文件上传状态\n  resetFileUpload()\n  \n  // 检测设备类型\n  detectDevice()\n  \n  // 监听PWA安装事件（主要是Android Chrome）\n  window.addEventListener('beforeinstallprompt', (e) => {\n    console.log('🎯 检测到PWA安装提示事件')\n    // 阻止默认的安装提示\n    e.preventDefault()\n    // 保存事件，稍后使用\n    deferredPrompt.value = e\n    canAutoInstall.value = true\n    console.log('✅ 支持一键安装功能')\n  })\n\n  // 监听PWA安装完成事件\n  window.addEventListener('appinstalled', () => {\n    console.log('🎉 PWA安装完成')\n    deferredPrompt.value = null\n    canAutoInstall.value = false\n    showToast({\n      message: '应用安装成功！',\n      type: 'success',\n      duration: 3000\n    })\n  })\n})\n\nonUnmounted(() => {\n  stopPolling()\n})\n\n// 监听路由变化，停止轮询\nwatch(() => route.path, () => {\n  stopPolling()\n})\n</script>\n\n<style lang=\"scss\" scoped>\n.home-page {\n  min-height: 100vh;\n  position: relative;\n  background: $bg-primary;\n  \n  .bg-decoration {\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    z-index: 0;\n    \n    .decoration-circle {\n      position: absolute;\n      border-radius: 50%;\n      background: $primary-gradient;\n      opacity: 0.1;\n      animation: float 6s ease-in-out infinite;\n      \n      &.circle-1 {\n        width: 200px;\n        height: 200px;\n        top: 10%;\n        left: 10%;\n        animation-delay: 0s;\n      }\n      \n      &.circle-2 {\n        width: 150px;\n        height: 150px;\n        top: 60%;\n        right: 15%;\n        animation-delay: 2s;\n      }\n      \n      &.circle-3 {\n        width: 100px;\n        height: 100px;\n        bottom: 20%;\n        left: 60%;\n        animation-delay: 4s;\n      }\n    }\n  }\n  \n  .container {\n    max-width: 800px;\n    margin: 0 auto;\n    padding: 0 $space-md;\n    position: relative;\n    \n    @include respond-to('md') {\n      padding: 0 $space-lg;\n    }\n  }\n}\n\n.header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: $space-2xl 0;\n  \n  .logo {\n    display: flex;\n    align-items: center;\n    gap: $space-md;\n    \n    .logo-icon {\n      width: 56px;\n      height: 56px;\n      @include glass-effect(0.2);\n      border-radius: $radius-xl;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: all 0.3s ease;\n      \n      &:hover {\n        transform: scale(1.05);\n        box-shadow: $shadow-glow;\n      }\n      \n      svg {\n        width: 28px;\n        height: 28px;\n        color: $primary-color;\n      }\n    }\n    \n    .logo-text {\n      h1 {\n        font-size: $font-3xl;\n        font-weight: $font-bold;\n        margin: 0;\n        letter-spacing: -0.025em;\n      }\n      \n      p {\n        font-size: $font-sm;\n        color: $text-secondary;\n        margin: 4px 0 0 0;\n      }\n    }\n  }\n  \n  .install-btn {\n    @include glass-effect(0.25);\n    color: $text-secondary;\n    border: none;\n    font-weight: $font-medium;\n    transition: all 0.3s ease;\n    position: relative;\n    overflow: hidden;\n    white-space: nowrap; // 防止文字换行\n    min-width: 120px; // 确保按钮有足够宽度\n    \n    // 添加渐变背景动画\n    &::before {\n      content: '';\n      position: absolute;\n      top: 0;\n      left: -100%;\n      width: 100%;\n      height: 100%;\n      background: linear-gradient(90deg, transparent, rgba(102, 126, 234, 0.1), transparent);\n      transition: left 0.5s ease;\n    }\n    \n    &:hover {\n      @include glass-effect(0.4);\n      color: $primary-color;\n      transform: translateY(-1px);\n      box-shadow: $shadow-glow;\n      \n      &::before {\n        left: 100%;\n      }\n    }\n  }\n}\n\n.main-content {\n  display: flex;\n  flex-direction: column;\n  gap: $space-2xl;\n  padding-bottom: $space-3xl;\n}\n\n.input-section {\n  .input-card {\n    @include card-style($shadow-floating);\n    @include glass-effect(0.25);\n    padding: $space-2xl;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: $shadow-heavy;\n      @include glass-effect(0.35);\n    }\n    \n    .tab-switcher {\n      margin-bottom: $space-xl;\n      \n      .tab-buttons {\n        display: flex;\n        gap: $space-md;\n        \n        .tab-button {\n          flex: 1;\n          padding: $space-lg;\n          border: none;\n          background: transparent;\n          font-weight: $font-medium;\n          color: $text-secondary;\n          transition: all 0.3s ease;\n          \n          &.active {\n            border-bottom: 2px solid $primary-color;\n          }\n          \n          &:hover {\n            color: $primary-color;\n          }\n        }\n      }\n    }\n    \n    .tab-content {\n      .input-header {\n        text-align: center;\n        margin-bottom: $space-xl;\n        \n        h2 {\n          font-size: $font-2xl;\n          font-weight: $font-semibold;\n          color: $text-primary;\n          margin: 0 0 $space-sm 0;\n        }\n        \n        p {\n          color: $text-secondary;\n          margin: 0;\n          font-size: $font-base;\n        }\n      }\n      \n      .input-area {\n        .url-input {\n          :deep(.van-field__control) {\n            border: 2px solid $border-light;\n            border-radius: $radius-lg;\n            padding: $space-lg;\n            font-size: $font-base;\n            transition: all 0.3s ease;\n            resize: none;\n            background: $bg-tertiary;\n            \n            &:focus {\n              border-color: $primary-color;\n              outline: none;\n              box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n              background: $bg-primary;\n            }\n            \n            &::placeholder {\n              color: $text-light;\n            }\n          }\n        }\n        \n        .input-actions {\n          display: flex;\n          gap: $space-md;\n          margin-top: $space-lg;\n          \n          .paste-btn {\n            flex: 0 0 auto;\n            min-width: 100px;\n          }\n          \n          .submit-btn {\n            flex: 1;\n            height: 56px;\n            border-radius: $radius-lg;\n            font-weight: $font-semibold;\n            font-size: $font-lg;\n            @include gradient-bg;\n            border: none;\n            color: white;\n            \n            &:disabled {\n              opacity: 0.6;\n              background: $text-light;\n              cursor: not-allowed;\n            }\n            \n            &:not(:disabled):hover {\n              transform: translateY(-2px);\n              box-shadow: $shadow-floating;\n            }\n          }\n        }\n      }\n      \n      .platform-hint {\n        margin-top: $space-md;\n        text-align: center;\n        \n        .platform-tag {\n          @include glass-effect(0.2);\n          border: none;\n          color: $primary-color;\n          \n          .van-icon {\n            margin-right: 4px;\n          }\n        }\n      }\n    }\n  }\n}\n\n.progress-section {\n  .progress-card {\n    @include card-style($shadow-light, $bg-primary);\n    @include glass-effect(0.2);\n    padding: $space-xl;\n    border: 1px solid $border-light;\n    \n    .progress-header {\n      display: flex;\n      align-items: center;\n      gap: $space-md;\n      margin-bottom: $space-lg;\n      \n      .progress-icon {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        width: 40px;\n        height: 40px;\n        border-radius: 50%;\n        background: $bg-tertiary;\n      }\n      \n      .progress-content {\n        flex: 1;\n        \n        h3 {\n          font-size: $font-lg;\n          font-weight: $font-semibold;\n          color: $text-primary;\n          margin: 0 0 4px 0;\n        }\n        \n        p {\n          font-size: $font-sm;\n          color: $text-secondary;\n          margin: 0;\n        }\n      }\n    }\n    \n    .progress-bar-container {\n      display: flex;\n      align-items: center;\n      gap: $space-md;\n      \n      .progress-bar {\n        flex: 1;\n        height: 8px;\n        background: $bg-tertiary;\n        border-radius: $radius-full;\n        overflow: hidden;\n        \n        .progress-fill {\n          height: 100%;\n          background: $primary-gradient;\n          border-radius: $radius-full;\n          transition: width 0.3s ease;\n        }\n      }\n      \n      .progress-text {\n        font-size: $font-sm;\n        font-weight: $font-medium;\n        color: $text-secondary;\n        min-width: 40px;\n        text-align: right;\n      }\n    }\n  }\n}\n\n.platforms-section,\n.features-section {\n  .platforms-card,\n  .features-card {\n    @include card-style($shadow-light);\n    @include glass-effect(0.2);\n    padding: $space-xl;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      @include glass-effect(0.3);\n      transform: translateY(-2px);\n      box-shadow: $shadow-floating;\n    }\n    \n    .platforms-header,\n    .features-header {\n      text-align: center;\n      margin-bottom: $space-xl;\n      \n      h3 {\n        font-size: $font-xl;\n        font-weight: $font-semibold;\n        color: $text-primary;\n        margin: 0 0 $space-sm 0;\n      }\n      \n      p {\n        color: $text-secondary;\n        margin: 0;\n        font-size: $font-sm;\n      }\n    }\n  }\n}\n\n.platforms-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n  gap: $space-lg;\n  \n  .platform-item {\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    gap: $space-sm;\n    padding: $space-lg;\n    border-radius: $radius-lg;\n    @include glass-effect(0.15);\n    transition: all 0.3s ease;\n    \n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: $shadow-floating;\n      @include glass-effect(0.25);\n    }\n    \n    .platform-icon {\n      width: 40px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n      background: white;\n      box-shadow: $shadow-light;\n      \n      .van-icon {\n        font-size: 20px;\n      }\n    }\n    \n    .platform-name {\n      font-size: $font-sm;\n      font-weight: $font-medium;\n      color: $text-primary;\n    }\n  }\n}\n\n.features-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: $space-lg;\n  \n  .feature-item {\n    display: flex;\n    gap: $space-md;\n    padding: $space-lg;\n    border-radius: $radius-lg;\n    @include glass-effect(0.15);\n    transition: all 0.3s ease;\n    \n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: $shadow-floating;\n      @include glass-effect(0.25);\n    }\n    \n    .feature-icon {\n      width: 48px;\n      height: 48px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      border-radius: 50%;\n      background: $primary-gradient;\n      color: white;\n      flex-shrink: 0;\n      \n      .van-icon {\n        font-size: 20px;\n      }\n    }\n    \n    .feature-content {\n      h4 {\n        font-size: $font-base;\n        font-weight: $font-semibold;\n        color: $text-primary;\n        margin: 0 0 4px 0;\n      }\n      \n      p {\n        font-size: $font-sm;\n        color: $text-secondary;\n        margin: 0;\n        line-height: 1.5;\n      }\n    }\n  }\n}\n\n@keyframes float {\n  0%, 100% {\n    transform: translateY(0px);\n  }\n  50% {\n    transform: translateY(-20px);\n  }\n}\n\n// 选项卡样式\n.tab-switcher {\n  margin-bottom: $space-xl;\n  \n  .tab-buttons {\n    display: flex;\n    background: $bg-tertiary;\n    border-radius: $radius-lg;\n    padding: 4px;\n    @include glass-effect(0.1);\n    \n    .tab-button {\n      flex: 1;\n      padding: $space-lg;\n      border: none;\n      background: transparent;\n      border-radius: $radius-md;\n      color: $text-secondary;\n      font-weight: $font-medium;\n      font-size: $font-base;\n      transition: all 0.3s ease;\n      cursor: pointer;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      gap: $space-sm;\n      \n      &.active {\n        background: $primary-gradient;\n        color: white;\n        box-shadow: $shadow-light;\n        transform: translateY(-1px);\n      }\n      \n      &:hover:not(.active) {\n        background: rgba(102, 126, 234, 0.1);\n        color: $primary-color;\n      }\n      \n      .van-icon {\n        font-size: 18px;\n      }\n    }\n  }\n}\n\n// 文件上传样式\n.upload-area {\n  .upload-dropzone {\n    border: 2px dashed $border-light;\n    border-radius: $radius-lg;\n    padding: $space-2xl;\n    text-align: center;\n    background: $bg-tertiary;\n    transition: all 0.3s ease;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n    \n    &:hover:not(.disabled) {\n      border-color: $primary-color;\n      background: rgba(102, 126, 234, 0.05);\n      transform: translateY(-2px);\n      box-shadow: $shadow-light;\n    }\n    \n    &.dragover {\n      border-color: $primary-color;\n      background: rgba(102, 126, 234, 0.1);\n      transform: scale(1.02);\n      box-shadow: $shadow-floating;\n    }\n    \n    &.has-file {\n      border-style: solid;\n      border-color: $primary-color;\n      background: rgba(102, 126, 234, 0.05);\n    }\n    \n    &.disabled {\n      opacity: 0.6;\n      cursor: not-allowed;\n      \n      &:hover {\n        transform: none;\n        box-shadow: none;\n      }\n    }\n    \n    .upload-prompt {\n      .upload-icon {\n        margin-bottom: $space-lg;\n        \n        .van-icon {\n          color: $primary-color;\n          opacity: 0.7;\n        }\n      }\n      \n      h3 {\n        font-size: $font-lg;\n        font-weight: $font-semibold;\n        color: $text-primary;\n        margin: 0 0 $space-md 0;\n      }\n      \n      p {\n        color: $text-secondary;\n        margin: 0 0 $space-sm 0;\n        font-size: $font-sm;\n        \n        &.size-hint {\n          color: $text-light;\n          font-size: $font-xs;\n        }\n      }\n    }\n    \n    .file-preview {\n      display: flex;\n      align-items: center;\n      gap: $space-lg;\n      text-align: left;\n      \n      .file-icon {\n        .van-icon {\n          color: $primary-color;\n        }\n      }\n      \n      .file-info {\n        flex: 1;\n        \n        h4 {\n          font-size: $font-base;\n          font-weight: $font-semibold;\n          color: $text-primary;\n          margin: 0 0 4px 0;\n          word-break: break-all;\n        }\n        \n        p {\n          font-size: $font-sm;\n          color: $text-secondary;\n          margin: 0;\n        }\n      }\n    }\n  }\n  \n  .upload-actions {\n    margin-top: $space-lg;\n    text-align: center;\n    \n    .upload-btn {\n      height: 56px;\n      min-width: 160px;\n      border-radius: $radius-lg;\n      font-weight: $font-semibold;\n      font-size: $font-lg;\n      @include gradient-bg;\n      border: none;\n      color: white;\n      \n      &:disabled {\n        opacity: 0.6;\n        background: $text-light;\n        cursor: not-allowed;\n      }\n      \n      &:not(:disabled):hover {\n        transform: translateY(-2px);\n        box-shadow: $shadow-floating;\n      }\n    }\n  }\n  \n  .upload-progress {\n    margin-top: $space-lg;\n    padding: $space-lg;\n    background: $bg-tertiary;\n    border-radius: $radius-lg;\n    @include glass-effect(0.1);\n    \n    .progress-info {\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      margin-bottom: $space-md;\n      font-size: $font-sm;\n      font-weight: $font-medium;\n      color: $text-primary;\n    }\n  }\n}\n</style> "],"names":["isValidUrl","url","pattern","detectPlatform","lowerUrl","router","useRouter","route","useRoute","taskStore","useTaskStore","inputUrl","ref","detectedPlatform","submitting","pasting","canceling","currentProgress","progressTimer","pollingTimer","activeTab","selectedFile","uploading","uploadProgress","isDragOver","fileInput","showInstallPrompt","deviceType","deferredPrompt","canAutoInstall","isValidInput","computed","isInputDisabled","isProcessing","clipboardSupported","showProgress","_a","isCompleted","isFailed","statusText","statusDetail","supportedPlatforms","features","onInputChange","value","stringValue","onInputFocus","onInputBlur","pasteFromClipboard","showToast","text","readFromClipboard","error","handleSubmit","startPolling","handleCancelTask","showConfirmDialog","stopPolling","startProgressAnimation","increment","stopProgressAnimation","detectDevice","userAgent","handleInstallClick","outcome","getPlatformIcon","platform","platformConfig","p","getPlatformName","switchTab","tab","resetFileUpload","triggerFileSelect","handleFileSelect","event","file","validateAndSetFile","handleFileDrop","files","handleDragOver","handleDragLeave","formatFileSize","supportedTypes","supportedExtensions","fileName","fileExtension","removeSelectedFile","handleFileUpload","progress","bytes","k","sizes","i","onMounted","videoCleaner","e","onUnmounted","watch","_openBlock","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_normalizeClass","_cache","$event","_hoisted_9","_hoisted_10","_hoisted_11","_withCtx","_hoisted_12","_hoisted_13","_hoisted_14","_withModifiers","_hoisted_18","_hoisted_19","_hoisted_20","_toDisplayString","_hoisted_16","_hoisted_17","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","_hoisted_27","_hoisted_28","_hoisted_29","_hoisted_30","_normalizeStyle","_hoisted_32","_hoisted_33","_hoisted_34","_hoisted_35","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40"],"mappings":"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"}