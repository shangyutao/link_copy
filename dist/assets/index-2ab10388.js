import{z as fe,A as me,r as H,c as ve,a as ne,B as k,C,D as i,j as g,E as ge,t as N,G as q,F as he,H as we,I as ye,x as be,J as Pe}from"./vendor-194b799d.js";import{I as _e}from"./vant-83faff4e.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();const Le="modulepreload",Ee=function(t){return"/"+t},Q={},D=function(e,o,s){if(!o||o.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(o.map(n=>{if(n=Ee(n),n in Q)return;Q[n]=!0;const l=n.endsWith(".css"),a=l?'[rel="stylesheet"]':"";if(!!s)for(let p=r.length-1;p>=0;p--){const c=r[p];if(c.href===n&&(!l||c.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${n}"]${a}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Le,l||(d.as="script",d.crossOrigin=""),d.href=n,document.head.appendChild(d),l)return new Promise((p,c)=>{d.addEventListener("load",p),d.addEventListener("error",()=>c(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>e()).catch(n=>{const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=n,window.dispatchEvent(l),!l.defaultPrevented)throw n})},ke=[{path:"/",name:"Home",component:()=>D(()=>import("./Home-da8d85c4.js"),["assets/Home-da8d85c4.js","assets/clipboard-431328c5.js","assets/vendor-194b799d.js","assets/utils-917b1704.js","assets/vant-83faff4e.js","assets/clipboard-4345ad0b.css","assets/Home-e7cb3c07.css","assets/index-8af2a43b.css","assets/index-962427d7.css"]),meta:{title:"Link Copy - 链接转文案",keepAlive:!1}},{path:"/preview/:taskId",name:"VideoPreview",component:()=>D(()=>import("./VideoPreview-58cd392e.js"),["assets/VideoPreview-58cd392e.js","assets/format-bc53a88b.js","assets/format-57730f71.css","assets/clipboard-431328c5.js","assets/vendor-194b799d.js","assets/utils-917b1704.js","assets/vant-83faff4e.js","assets/clipboard-4345ad0b.css","assets/VideoPreview-279547a7.css","assets/index-8af2a43b.css","assets/index-962427d7.css","assets/index-dd34839d.css"]),meta:{title:"视频预览",keepAlive:!0}},{path:"/text-result/:taskId",name:"TextResult",component:()=>D(()=>import("./TextResult-9c70a7e6.js"),["assets/TextResult-9c70a7e6.js","assets/format-bc53a88b.js","assets/format-57730f71.css","assets/clipboard-431328c5.js","assets/vendor-194b799d.js","assets/utils-917b1704.js","assets/vant-83faff4e.js","assets/clipboard-4345ad0b.css","assets/TextResult-c3dc0cdc.css","assets/index-8af2a43b.css","assets/index-962427d7.css","assets/index-dd34839d.css"]),meta:{title:"文案结果",keepAlive:!0}},{path:"/history",name:"History",component:()=>D(()=>import("./History-ac0ac1f2.js"),["assets/History-ac0ac1f2.js","assets/vendor-194b799d.js","assets/vant-83faff4e.js","assets/History-2913ffe7.css","assets/index-8af2a43b.css","assets/index-dd34839d.css"]),meta:{title:"历史记录",keepAlive:!0}},{path:"/about",name:"About",component:()=>D(()=>import("./About-33ff8973.js"),["assets/About-33ff8973.js","assets/vendor-194b799d.js","assets/vant-83faff4e.js","assets/About-7eb1f652.css","assets/index-8af2a43b.css","assets/index-dd34839d.css"]),meta:{title:"关于我们",keepAlive:!0}},{path:"/:pathMatch(.*)*",name:"404",component:()=>D(()=>import("./NotFound-40293f19.js"),["assets/NotFound-40293f19.js","assets/vendor-194b799d.js","assets/vant-83faff4e.js","assets/NotFound-215144bc.css","assets/index-8af2a43b.css","assets/index-962427d7.css"]),meta:{title:"页面未找到"}}],re=fe({history:me(),routes:ke,scrollBehavior(t,e,o){return o||{top:0}}});re.beforeEach((t,e,o)=>{t.meta.title&&(document.title=t.meta.title),o()});const Ce="/vite.svg";const Ae=(t,e)=>{const o=t.__vccOpts||t;for(const[s,r]of e)o[s]=r;return o},Te={name:"InstallPrompt",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","close"],setup(t,{emit:e}){const o=H(!1),s=H("desktop"),r=H(null),n=H(!1),l=ve(()=>t.modelValue||o.value),a=()=>{const u=navigator.userAgent.toLowerCase();/iphone|ipad|ipod/.test(u)?s.value="ios":/android/.test(u)?s.value="android":s.value="desktop"},f=()=>{console.log("🔍 检查是否显示安装提示..."),console.log("设备类型:",s.value);const u=window.matchMedia("(display-mode: standalone)").matches;if(console.log("是否已安装PWA:",u),u)return!1;const h=parseInt(localStorage.getItem("install-prompt-dismiss-count")||"0"),w=localStorage.getItem("install-prompt-last-shown");if(console.log("关闭次数:",h),console.log("上次显示时间:",w),h>=3){if(w){const S=new Date(w),O=(new Date-S)/(1e3*60*60);if(console.log("距离上次显示小时数:",O),O<168)return console.log("❌ 用户已多次关闭，7天内不再显示"),!1}}else if(w){const S=new Date(w),O=(new Date-S)/(1e3*60*60);console.log("距离上次显示小时数:",O);let I=.5;if(h===1&&(I=2),h===2&&(I=6),console.log("需要等待小时数:",I),O<I)return console.log(`❌ 需要等待${I}小时后再显示`),!1}const P=!0;return console.log("是否应该显示:",P),P},d=()=>{if(o.value=!1,e("update:modelValue",!1),e("close"),!t.modelValue){const u=parseInt(localStorage.getItem("install-prompt-dismiss-count")||"0");localStorage.setItem("install-prompt-dismiss-count",(u+1).toString()),localStorage.setItem("install-prompt-last-shown",new Date().toISOString()),console.log("🔕 用户关闭提示，当前关闭次数:",u+1)}},p=()=>{o.value=!1,e("update:modelValue",!1),e("close"),t.modelValue||(localStorage.setItem("install-prompt-last-shown",new Date().toISOString()),console.log("⏰ 用户选择稍后提醒"))},c=async()=>{if(r.value){console.log("🚀 触发自动安装");try{r.value.prompt();const{outcome:u}=await r.value.userChoice;console.log("用户选择:",u),u==="accepted"?(console.log("✅ 用户接受了安装"),o.value=!1):console.log("❌ 用户拒绝了安装"),r.value=null,n.value=!1}catch(u){console.error("安装失败:",u)}}else console.log("❌ 当前环境不支持自动安装")};return ne(()=>{a(),window.addEventListener("beforeinstallprompt",u=>{console.log("🎯 检测到PWA安装提示事件"),u.preventDefault(),r.value=u,n.value=!0,console.log("✅ 支持一键安装功能")}),window.addEventListener("appinstalled",()=>{console.log("🎉 PWA安装完成"),o.value=!1,r.value=null,n.value=!1}),console.log("🚀 InstallPrompt组件已挂载"),setTimeout(()=>{console.log("⏰ 延迟时间到，检查是否显示提示"),f()?(console.log("✅ 显示安装提示"),o.value=!0):console.log("❌ 不显示安装提示")},1e3)}),{visible:l,showPrompt:o,deviceType:s,canAutoInstall:n,closePrompt:d,remindLater:p,handleAutoInstall:c}}},Se={class:"install-steps"},Oe={key:0,class:"steps-container"},Ie={class:"device-badge ios"},xe={class:"ios-enhanced-tip"},De={class:"steps"},We={class:"step"},je={class:"step-content"},Ue={class:"step-icon"},Re={class:"step-text"},Ve={class:"step"},$e={class:"step-content"},Fe={class:"step-icon"},He={class:"step"},ze={class:"step-content"},Be={class:"step-icon"},Me={key:1,class:"steps-container"},Ke={class:"device-badge android"},Ne={key:0,class:"auto-install-tip"},qe={class:"steps"},Ge={class:"step"},Xe={class:"step-content"},Ye={class:"step-icon"},Je={class:"step"},Qe={class:"step-content"},Ze={class:"step-icon"},et={class:"step"},tt={class:"step-content"},ot={class:"step-icon"},st={key:2,class:"steps-container"},nt={class:"device-badge desktop"},rt={class:"desktop-info"},it={class:"prompt-actions"};function lt(t,e,o,s,r,n){const l=_e;return s.visible?(k(),C("div",{key:0,class:"install-prompt-overlay",onClick:e[6]||(e[6]=(...a)=>s.closePrompt&&s.closePrompt(...a))},[i("div",{class:"install-prompt",onClick:e[5]||(e[5]=we(()=>{},["stop"]))},[i("div",{class:"close-btn",onClick:e[0]||(e[0]=(...a)=>s.closePrompt&&s.closePrompt(...a))},[g(l,{name:"cross",size:"20"})]),e[29]||(e[29]=ge('<div class="app-info" data-v-fb79ed07><div class="app-icon" data-v-fb79ed07><img src="'+Ce+'" alt="Link Copy" data-v-fb79ed07></div><h3 class="app-title" data-v-fb79ed07>添加到主屏幕</h3><p class="app-subtitle" data-v-fb79ed07>获得更好的使用体验</p></div>',1)),i("div",Se,[s.deviceType==="ios"?(k(),C("div",Oe,[i("div",Ie,[g(l,{name:"apple-o",size:"16"}),e[7]||(e[7]=i("span",null,"iPhone / iPad",-1))]),i("div",xe,[g(l,{name:"info-o",size:"20",color:"#007AFF"}),e[8]||(e[8]=i("p",null,"iOS设备需要手动操作，无法自动安装",-1))]),i("div",De,[i("div",We,[e[12]||(e[12]=i("div",{class:"step-number"},"1",-1)),i("div",je,[i("div",Ue,[g(l,{name:"share",size:"24",color:"#007AFF"})]),i("div",Re,[e[11]||(e[11]=i("strong",null,"点击分享按钮",-1)),i("span",null,[e[9]||(e[9]=N("在底部导航栏找到 ")),g(l,{name:"share",size:"14"}),e[10]||(e[10]=N(" 分享图标"))])])])]),i("div",Ve,[e[14]||(e[14]=i("div",{class:"step-number"},"2",-1)),i("div",$e,[i("div",Fe,[g(l,{name:"plus",size:"24",color:"#007AFF"})]),e[13]||(e[13]=i("div",{class:"step-text"},[i("strong",null,"添加到主屏幕"),i("span",null,"在分享菜单中找到并点击此选项")],-1))])]),i("div",He,[e[16]||(e[16]=i("div",{class:"step-number"},"3",-1)),i("div",ze,[i("div",Be,[g(l,{name:"success",size:"24",color:"#34C759"})]),e[15]||(e[15]=i("div",{class:"step-text"},[i("strong",null,"完成安装"),i("span",null,'点击"添加"即可在桌面找到应用')],-1))])])])])):s.deviceType==="android"?(k(),C("div",Me,[i("div",Ke,[g(l,{name:"android-o",size:"16"}),e[17]||(e[17]=i("span",null,"Android",-1))]),s.canAutoInstall?(k(),C("div",Ne,[g(l,{name:"star-o",size:"20",color:"#4285F4"}),e[18]||(e[18]=i("p",null,"检测到支持一键安装！请点击下方绿色按钮",-1))])):q("",!0),i("div",qe,[i("div",Ge,[e[20]||(e[20]=i("div",{class:"step-number"},"1",-1)),i("div",Xe,[i("div",Ye,[g(l,{name:"wap-nav",size:"24",color:"#4285F4"})]),e[19]||(e[19]=i("div",{class:"step-text"},[i("strong",null,"打开菜单"),i("span",null,"点击浏览器右上角的三个点")],-1))])]),i("div",Je,[e[22]||(e[22]=i("div",{class:"step-number"},"2",-1)),i("div",Qe,[i("div",Ze,[g(l,{name:"plus",size:"24",color:"#4285F4"})]),e[21]||(e[21]=i("div",{class:"step-text"},[i("strong",null,"添加到主屏幕"),i("span",null,'在菜单中选择"添加到主屏幕"')],-1))])]),i("div",et,[e[24]||(e[24]=i("div",{class:"step-number"},"3",-1)),i("div",tt,[i("div",ot,[g(l,{name:"success",size:"24",color:"#34A853"})]),e[23]||(e[23]=i("div",{class:"step-text"},[i("strong",null,"完成安装"),i("span",null,"确认后即可在桌面使用")],-1))])])])])):(k(),C("div",st,[i("div",nt,[g(l,{name:"desktop-o",size:"16"}),e[25]||(e[25]=i("span",null,"桌面浏览器",-1))]),i("div",rt,[g(l,{name:"info-o",size:"24",color:"#667eea"}),e[26]||(e[26]=i("p",null,"在桌面浏览器中，您可以：",-1)),e[27]||(e[27]=i("ul",null,[i("li",null,"将此页面添加到书签"),i("li",null,"创建桌面快捷方式"),i("li",null,"或直接在浏览器中使用")],-1))])]))]),i("div",it,[s.canAutoInstall&&s.deviceType==="android"?(k(),C("button",{key:0,class:"btn-install",onClick:e[1]||(e[1]=(...a)=>s.handleAutoInstall&&s.handleAutoInstall(...a))},[g(l,{name:"plus",size:"16"}),e[28]||(e[28]=N(" 一键安装 "))])):q("",!0),!s.canAutoInstall||s.deviceType!=="android"?(k(),C(he,{key:1},[i("button",{class:"btn-secondary",onClick:e[2]||(e[2]=(...a)=>s.remindLater&&s.remindLater(...a))},"稍后提醒"),i("button",{class:"btn-primary",onClick:e[3]||(e[3]=(...a)=>s.closePrompt&&s.closePrompt(...a))},"暂时关闭")],64)):(k(),C("button",{key:2,class:"btn-secondary",onClick:e[4]||(e[4]=(...a)=>s.remindLater&&s.remindLater(...a))},"稍后提醒"))])])])):q("",!0)}const at=Ae(Te,[["render",lt],["__scopeId","data-v-fb79ed07"]]);const ct={class:"app"},dt={__name:"App",setup(t){return ne(()=>{const e=()=>{const o=window.innerHeight*.01;document.documentElement.style.setProperty("--vh",`${o}px`)};e(),window.addEventListener("resize",e)}),(e,o)=>{const s=ye("router-view");return k(),C("div",ct,[g(s),g(at)])}}};(function(){if(typeof window>"u")return;var t,e="ontouchstart"in window;document.createTouch||(document.createTouch=function(p,c,u,h,w,P,S){return new o(c,u,{pageX:h,pageY:w,screenX:P,screenY:S,clientX:h-window.pageXOffset,clientY:w-window.pageYOffset},0,0)}),document.createTouchList||(document.createTouchList=function(){for(var p=s(),c=0;c<arguments.length;c++)p[c]=arguments[c];return p.length=arguments.length,p}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(p){var c=this;do{if(c.matches(p))return c;c=c.parentElement||c.parentNode}while(c!==null&&c.nodeType===1);return null});var o=function(c,u,h,w,P){w=w||0,P=P||0,this.identifier=u,this.target=c,this.clientX=h.clientX+w,this.clientY=h.clientY+P,this.screenX=h.screenX+w,this.screenY=h.screenY+P,this.pageX=h.pageX+w,this.pageY=h.pageY+P};function s(){var p=[];return p.item=function(c){return this[c]||null},p.identifiedTouch=function(c){return this[c+1]||null},p}var r=!1;function n(p){return function(c){c.type==="mousedown"&&(r=!0),c.type==="mouseup"&&(r=!1),!(c.type==="mousemove"&&!r)&&((c.type==="mousedown"||!t||t&&!t.dispatchEvent)&&(t=c.target),t.closest("[data-no-touch-simulate]")==null&&l(p,c),c.type==="mouseup"&&(t=null))}}function l(p,c){var u=document.createEvent("Event");u.initEvent(p,!0,!0),u.altKey=c.altKey,u.ctrlKey=c.ctrlKey,u.metaKey=c.metaKey,u.shiftKey=c.shiftKey,u.touches=f(c),u.targetTouches=f(c),u.changedTouches=a(c),t.dispatchEvent(u)}function a(p){var c=s();return c.push(new o(t,1,p,0,0)),c}function f(p){return p.type==="mouseup"?s():a(p)}function d(){window.addEventListener("mousedown",n("touchstart"),!0),window.addEventListener("mousemove",n("touchmove"),!0),window.addEventListener("mouseup",n("touchend"),!0)}d.multiTouchOffset=75,e||new d})();/*! Capacitor: https://capacitorjs.com/ - MIT License */const ut=t=>{const e=new Map;e.set("web",{name:"web"});const o=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},s=(n,l)=>{o.platforms.set(n,l)},r=n=>{o.platforms.has(n)&&(o.currentPlatform=o.platforms.get(n))};return o.addPlatform=s,o.setPlatform=r,o},pt=t=>t.CapacitorPlatforms=ut(t),ie=pt(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});ie.addPlatform;ie.setPlatform;var U;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(U||(U={}));class G extends Error{constructor(e,o,s){super(e),this.message=e,this.code=o,this.data=s}}const ft=t=>{var e,o;return t!=null&&t.androidBridge?"android":!((o=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||o===void 0)&&o.bridge?"ios":"web"},mt=t=>{var e,o,s,r,n;const l=t.CapacitorCustomPlatform||null,a=t.Capacitor||{},f=a.Plugins=a.Plugins||{},d=t.CapacitorPlatforms,p=()=>l!==null?l.name:ft(t),c=((e=d==null?void 0:d.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||p,u=()=>c()!=="web",h=((o=d==null?void 0:d.currentPlatform)===null||o===void 0?void 0:o.isNativePlatform)||u,w=m=>{const v=B.get(m);return!!(v!=null&&v.platforms.has(c())||V(m))},P=((s=d==null?void 0:d.currentPlatform)===null||s===void 0?void 0:s.isPluginAvailable)||w,S=m=>{var v;return(v=a.PluginHeaders)===null||v===void 0?void 0:v.find(W=>W.name===m)},V=((r=d==null?void 0:d.currentPlatform)===null||r===void 0?void 0:r.getPluginHeader)||S,O=m=>t.console.error(m),I=(m,v,W)=>Promise.reject(`${W} does not have an implementation of "${v}".`),B=new Map,ae=(m,v={})=>{const W=B.get(m);if(W)return console.warn(`Capacitor plugin "${m}" already registered. Cannot register plugins twice.`),W.proxy;const x=c(),j=V(m);let E;const de=async()=>(!E&&x in v?E=typeof v[x]=="function"?E=await v[x]():E=v[x]:l!==null&&!E&&"web"in v&&(E=typeof v.web=="function"?E=await v.web():E=v.web),E),ue=(y,b)=>{var L,A;if(j){const T=j==null?void 0:j.methods.find(_=>b===_.name);if(T)return T.rtype==="promise"?_=>a.nativePromise(m,b.toString(),_):(_,$)=>a.nativeCallback(m,b.toString(),_,$);if(y)return(L=y[b])===null||L===void 0?void 0:L.bind(y)}else{if(y)return(A=y[b])===null||A===void 0?void 0:A.bind(y);throw new G(`"${m}" plugin is not implemented on ${x}`,U.Unimplemented)}},M=y=>{let b;const L=(...A)=>{const T=de().then(_=>{const $=ue(_,y);if($){const F=$(...A);return b=F==null?void 0:F.remove,F}else throw new G(`"${m}.${y}()" is not implemented on ${x}`,U.Unimplemented)});return y==="addListener"&&(T.remove=async()=>b()),T};return L.toString=()=>`${y.toString()}() { [capacitor code] }`,Object.defineProperty(L,"name",{value:y,writable:!1,configurable:!1}),L},Y=M("addListener"),J=M("removeListener"),pe=(y,b)=>{const L=Y({eventName:y},b),A=async()=>{const _=await L;J({eventName:y,callbackId:_},b)},T=new Promise(_=>L.then(()=>_({remove:A})));return T.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await A()},T},K=new Proxy({},{get(y,b){switch(b){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return j?pe:Y;case"removeListener":return J;default:return M(b)}}});return f[m]=K,B.set(m,{name:m,proxy:K,platforms:new Set([...Object.keys(v),...j?[x]:[]])}),K},ce=((n=d==null?void 0:d.currentPlatform)===null||n===void 0?void 0:n.registerPlugin)||ae;return a.convertFileSrc||(a.convertFileSrc=m=>m),a.getPlatform=c,a.handleError=O,a.isNativePlatform=h,a.isPluginAvailable=P,a.pluginMethodNoop=I,a.registerPlugin=ce,a.Exception=G,a.DEBUG=!!a.DEBUG,a.isLoggingEnabled=!!a.isLoggingEnabled,a.platform=a.getPlatform(),a.isNative=a.isNativePlatform(),a},vt=t=>t.Capacitor=mt(t),R=vt(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),z=R.registerPlugin;R.Plugins;class le{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,o){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(o);const r=this.windowListeners[e];r&&!r.registered&&this.addWindowListener(r);const n=async()=>this.removeListener(e,o),l=Promise.resolve({remove:n});return Object.defineProperty(l,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await n()}}),l}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,o){const s=this.listeners[e];s&&s.forEach(r=>r(o))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,o){this.windowListeners[o]={registered:!1,windowEventName:e,pluginEventName:o,handler:s=>{this.notifyListeners(o,s)}}}unimplemented(e="not implemented"){return new R.Exception(e,U.Unimplemented)}unavailable(e="not available"){return new R.Exception(e,U.Unavailable)}async removeListener(e,o){const s=this.listeners[e];if(!s)return;const r=s.indexOf(o);this.listeners[e].splice(r,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}}const Z=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ee=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class gt extends le{async getCookies(){const e=document.cookie,o={};return e.split(";").forEach(s=>{if(s.length<=0)return;let[r,n]=s.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");r=ee(r).trim(),n=ee(n).trim(),o[r]=n}),o}async setCookie(e){try{const o=Z(e.key),s=Z(e.value),r=`; expires=${(e.expires||"").replace("expires=","")}`,n=(e.path||"/").replace("path=",""),l=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${o}=${s||""}${r}; path=${n}; ${l};`}catch(o){return Promise.reject(o)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(o){return Promise.reject(o)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const o of e)document.cookie=o.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}z("CapacitorCookies",{web:()=>new gt});const ht=async t=>new Promise((e,o)=>{const s=new FileReader;s.onload=()=>{const r=s.result;e(r.indexOf(",")>=0?r.split(",")[1]:r)},s.onerror=r=>o(r),s.readAsDataURL(t)}),wt=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(r=>r.toLocaleLowerCase()).reduce((r,n,l)=>(r[n]=t[e[l]],r),{})},yt=(t,e=!0)=>t?Object.entries(t).reduce((s,r)=>{const[n,l]=r;let a,f;return Array.isArray(l)?(f="",l.forEach(d=>{a=e?encodeURIComponent(d):d,f+=`${n}=${a}&`}),f.slice(0,-1)):(a=e?encodeURIComponent(l):l,f=`${n}=${a}`),`${s}&${f}`},"").substr(1):null,bt=(t,e={})=>{const o=Object.assign({method:t.method||"GET",headers:t.headers},e),r=wt(t.headers)["content-type"]||"";if(typeof t.data=="string")o.body=t.data;else if(r.includes("application/x-www-form-urlencoded")){const n=new URLSearchParams;for(const[l,a]of Object.entries(t.data||{}))n.set(l,a);o.body=n.toString()}else if(r.includes("multipart/form-data")||t.data instanceof FormData){const n=new FormData;if(t.data instanceof FormData)t.data.forEach((a,f)=>{n.append(f,a)});else for(const a of Object.keys(t.data))n.append(a,t.data[a]);o.body=n;const l=new Headers(o.headers);l.delete("content-type"),o.headers=l}else(r.includes("application/json")||typeof t.data=="object")&&(o.body=JSON.stringify(t.data));return o};class Pt extends le{async request(e){const o=bt(e,e.webFetchExtra),s=yt(e.params,e.shouldEncodeUrlParams),r=s?`${e.url}?${s}`:e.url,n=await fetch(r,o),l=n.headers.get("content-type")||"";let{responseType:a="text"}=n.ok?e:{};l.includes("application/json")&&(a="json");let f,d;switch(a){case"arraybuffer":case"blob":d=await n.blob(),f=await ht(d);break;case"json":f=await n.json();break;case"document":case"text":default:f=await n.text()}const p={};return n.headers.forEach((c,u)=>{p[u]=c}),{data:f,headers:p,status:n.status,url:n.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}z("CapacitorHttp",{web:()=>new Pt});var te;(function(t){t.Dark="DARK",t.Light="LIGHT",t.Default="DEFAULT"})(te||(te={}));var oe;(function(t){t.None="NONE",t.Slide="SLIDE",t.Fade="FADE"})(oe||(oe={}));const se=z("StatusBar"),_t=z("SplashScreen",{web:()=>D(()=>import("./web-0e780361.js"),["assets/web-0e780361.js","assets/vendor-194b799d.js","assets/vant-83faff4e.js"]).then(t=>new t.SplashScreenWeb)});console.log("🚀 App starting...");const X=be(dt),Lt=Pe();X.use(Lt);X.use(re);R.isNativePlatform()?(console.log("📱 Native platform detected"),se.setStyle({style:"default"}),se.setBackgroundColor({color:"#ffffff"}),setTimeout(()=>{console.log("⏰ Hiding splash screen"),_t.hide()},1e3)):console.log("🌐 Web platform detected");console.log("🔧 Mounting app...");X.mount("#app");console.log("✅ App mounted successfully!");"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(t=>{console.log("✅ SW registered: ",t),t.update(),t.addEventListener("updatefound",()=>{const e=t.installing;e.addEventListener("statechange",()=>{e.state==="installed"&&navigator.serviceWorker.controller&&(console.log("🔄 New SW available, reloading..."),window.location.reload())})})}).catch(t=>{console.log("❌ SW registration failed: ",t)})});export{at as I,le as W,Ae as _};
//# sourceMappingURL=index-2ab10388.js.map
