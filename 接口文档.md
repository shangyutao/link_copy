# è§†é¢‘ä¸‹è½½ç³»ç»Ÿ API æ¥å£æ–‡æ¡£

## åŸºç¡€ä¿¡æ¯

**æœåŠ¡å™¨åœ°å€**: `http://47.109.155.18:2222`  
**API å‰ç¼€**: `/api`  
**å®Œæ•´APIåœ°å€**: `http://47.109.155.18:2222/api`

## æ¥å£åˆ—è¡¨

### 1. å¥åº·æ£€æŸ¥
**æ¥å£**: `GET /api/health`  
**æè¿°**: æ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€å’Œæ•°æ®åº“è¿æ¥

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl http://47.109.155.18:2222/api/health
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "status": "ok",
  "database": {
    "mysql": "connected"
  },
  "timestamp": "2025-06-24T10:30:00.000Z"
}
```

### 2. åˆ›å»ºä¸‹è½½ä»»åŠ¡
**æ¥å£**: `POST /api/video/download`  
**æè¿°**: æäº¤è§†é¢‘é“¾æ¥åˆ›å»ºä¸‹è½½ä»»åŠ¡

**è¯·æ±‚å‚æ•°**:
```json
{
  "url": "è§†é¢‘é“¾æ¥æˆ–åˆ†äº«æ–‡æœ¬",
  "platform": "å¹³å°åç§°(å¯é€‰ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è¯†åˆ«)"
}
```

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X POST http://47.109.155.18:2222/api/video/download \
  -H "Content-Type: application/json" \
  -d '{
    "url": "4.66 X@M.Jv 09/15 eoQ:/ åŸåˆ™ä¸Šæˆ‘ä¸è·³èˆï¼Œä½†æˆ‘æ— æ³•æ‹’ç»è¿™é¦–æ­Œ # ç”µå½±ç¾å­¦ # äº†ä¸èµ·çš„æ··å‰ªå›¢ # selflove # å…±é¸£å™äº‹å®¶ # æŠ–éŸ³ç²¾é€‰  https://v.douyin.com/m7PB8p71p2M/ å¤åˆ¶æ­¤é“¾æ¥ï¼Œæ‰“å¼€DouéŸ³æœç´¢ï¼Œç›´æ¥è§‚çœ‹è§†é¢‘ï¼"
  }'
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "ä»»åŠ¡åˆ›å»ºæˆåŠŸ",
  "data": {
    "taskId": "task_abc123def456",
    "status": "pending",
    "platform": "douyin",
    "createTime": "2025-06-24T10:30:00.000Z",
    "isExisting": false
  }
}
```

### 3. æŸ¥è¯¢ä»»åŠ¡çŠ¶æ€
**æ¥å£**: `GET /api/video/status/:taskId`  
**æè¿°**: æŸ¥è¯¢æŒ‡å®šä»»åŠ¡çš„ä¸‹è½½çŠ¶æ€

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl http://47.109.155.18:2222/api/video/status/task_abc123def456
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æŸ¥è¯¢æˆåŠŸ",
  "data": {
    "taskId": "task_abc123def456",
    "status": "completed",
    "progress": 100,
    "platform": "douyin",
    "createTime": "2025-06-24T10:30:00.000Z",
    "updateTime": "2025-06-24T10:31:30.000Z",
    "downloadUrl": "/api/video/file/task_abc123def456",
    "videoInfo": {
      "title": "è§†é¢‘æ ‡é¢˜",
      "author": "ä½œè€…åç§°",
      "duration": 30,
      "thumbnail": "ç¼©ç•¥å›¾é“¾æ¥"
    },
    "fileInfo": {
      "fileName": "video_file.mp4",
      "fileSize": 15728640,
      "format": "mp4"
    }
  }
}
```

### 4. ä¸‹è½½è§†é¢‘æ–‡ä»¶
**æ¥å£**: `GET /api/video/file/:taskId`  
**æè¿°**: ä¸‹è½½å·²å®Œæˆçš„è§†é¢‘æ–‡ä»¶

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -O http://47.109.155.18:2222/api/video/file/task_abc123def456
```

**å“åº”**: ç›´æ¥è¿”å›è§†é¢‘æ–‡ä»¶æµ

### 5. ç«‹å³æ¸…ç†è§†é¢‘æ–‡ä»¶
**æ¥å£**: `DELETE /api/video/clean/:taskId`  
**æè¿°**: å®‰å…¨åˆ é™¤æŒ‡å®šä»»åŠ¡çš„è§†é¢‘æ–‡ä»¶

**æŸ¥è¯¢å‚æ•°**:
- `force`: æ˜¯å¦å¼ºåˆ¶æ¸…ç†ï¼ˆå¯é€‰ï¼Œé»˜è®¤falseï¼‰

**è¯·æ±‚ç¤ºä¾‹**:
```bash
# æ™®é€šæ¸…ç†
curl -X DELETE http://47.109.155.18:2222/api/video/clean/task_abc123def456

# å¼ºåˆ¶æ¸…ç†
curl -X DELETE "http://47.109.155.18:2222/api/video/clean/task_abc123def456?force=true"
```

**å“åº”ç¤ºä¾‹**:

**æƒ…å†µ1ï¼šæˆåŠŸæ¸…ç†å·²å®Œæˆçš„ä»»åŠ¡**
```json
{
  "code": 200,
  "message": "ä»»åŠ¡å’Œæ–‡ä»¶å·²æˆåŠŸæ¸…ç†",
  "data": {
    "action": "cleaned",
    "message": "ä»»åŠ¡å’Œæ–‡ä»¶å·²æˆåŠŸæ¸…ç†",
    "taskId": "task_abc123def456",
    "fileDeleted": true,
    "cleanTime": "2025-06-24T10:30:00.000Z"
  }
}
```

**æƒ…å†µ2ï¼šå–æ¶ˆæ­£åœ¨è¿›è¡Œçš„ä»»åŠ¡**
```json
{
  "code": 200,
  "message": "ä»»åŠ¡å·²æ ‡è®°ä¸ºå–æ¶ˆ",
  "data": {
    "action": "cancelled",
    "message": "ä»»åŠ¡æ­£åœ¨è¿›è¡Œä¸­ï¼Œå·²æ ‡è®°ä¸ºå–æ¶ˆã€‚æ–‡ä»¶å°†åœ¨ä¸‹è½½å®Œæˆåè‡ªåŠ¨æ¸…ç†ã€‚",
    "taskId": "task_abc123def456",
    "cleanTime": "2025-06-24T10:30:00.000Z"
  }
}
```

**æƒ…å†µ3ï¼šæ–‡ä»¶è¢«å ç”¨**
```json
{
  "code": 200,
  "message": "ä»»åŠ¡è®°å½•å·²æ¸…ç†ï¼Œæ–‡ä»¶å¯èƒ½ä»åœ¨ä½¿ç”¨ä¸­",
  "data": {
    "action": "cleaned",
    "message": "ä»»åŠ¡è®°å½•å·²æ¸…ç†ï¼Œæ–‡ä»¶å¯èƒ½ä»åœ¨ä½¿ç”¨ä¸­",
    "taskId": "task_abc123def456",
    "fileDeleted": false,
    "cleanTime": "2025-06-24T10:30:00.000Z"
  }
}
```

**å®‰å…¨æœºåˆ¶**:
- è‡ªåŠ¨æ£€æµ‹ä»»åŠ¡çŠ¶æ€ï¼Œé˜²æ­¢æ¸…ç†æ­£åœ¨è¿›è¡Œçš„ä¸‹è½½
- å¯¹äºæ­£åœ¨ä¸‹è½½çš„ä»»åŠ¡ï¼Œä¼šæ ‡è®°ä¸ºå–æ¶ˆè€Œä¸æ˜¯ç›´æ¥åˆ é™¤
- æ£€æŸ¥æ–‡ä»¶å ç”¨çŠ¶æ€ï¼Œé¿å…åˆ é™¤æ­£åœ¨ä½¿ç”¨çš„æ–‡ä»¶
- æ”¯æŒå¼ºåˆ¶æ¸…ç†æ¨¡å¼ï¼ˆæ…ç”¨ï¼‰

### 6. è·å–æ”¯æŒçš„å¹³å°
**æ¥å£**: `GET /api/video/platforms`  
**æè¿°**: è·å–ç³»ç»Ÿæ”¯æŒçš„è§†é¢‘å¹³å°åˆ—è¡¨

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl http://47.109.155.18:2222/api/video/platforms
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "platforms": [
      {
        "name": "douyin",
        "displayName": "æŠ–éŸ³",
        "enabled": true,
        "supportedDomains": ["douyin.com", "v.douyin.com"]
      },
      {
        "name": "bilibili",
        "displayName": "å“”å“©å“”å“©",
        "enabled": true,
        "supportedDomains": ["bilibili.com", "b23.tv"]
      }
    ]
  }
}
```

### 7. è·å–ä»»åŠ¡åˆ—è¡¨
**æ¥å£**: `GET /api/video/tasks`  
**æè¿°**: è·å–ä»»åŠ¡åˆ—è¡¨ï¼ˆæ”¯æŒåˆ†é¡µå’Œè¿‡æ»¤ï¼‰

**æŸ¥è¯¢å‚æ•°**:
- `page`: é¡µç ï¼ˆé»˜è®¤1ï¼‰
- `pageSize`: æ¯é¡µæ•°é‡ï¼ˆé»˜è®¤20ï¼‰
- `status`: çŠ¶æ€è¿‡æ»¤ï¼ˆpending/downloading/completed/failedï¼‰
- `platform`: å¹³å°è¿‡æ»¤ï¼ˆdouyin/bilibiliï¼‰

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl "http://47.109.155.18:2222/api/video/tasks?page=1&pageSize=10&status=completed"
```

### 8. è·å–ç³»ç»Ÿç»Ÿè®¡
**æ¥å£**: `GET /api/video/stats`  
**æè¿°**: è·å–ç³»ç»Ÿç»Ÿè®¡ä¿¡æ¯

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl http://47.109.155.18:2222/api/video/stats
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "è·å–æˆåŠŸ",
  "data": {
    "totalTasks": 150,
    "completedTasks": 130,
    "failedTasks": 10,
    "pendingTasks": 10,
    "totalFileSize": "1.2GB",
    "platforms": {
      "douyin": 80,
      "bilibili": 70
    }
  }
}
```

### 9. å®šæ—¶æ¸…ç†è¿‡æœŸæ–‡ä»¶
**æ¥å£**: `POST /api/video/clean/expired`  
**æè¿°**: æ‰¹é‡æ¸…ç†æŒ‡å®šæ—¶é—´ä¹‹å‰çš„è¿‡æœŸè§†é¢‘æ–‡ä»¶

**è¯·æ±‚å‚æ•°**:
```json
{
  "hours": 24
}
```

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X POST http://47.109.155.18:2222/api/video/clean/expired \
  -H "Content-Type: application/json" \
  -d '{"hours": 24}'
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "æ¸…ç†å®Œæˆ",
  "data": {
    "cleanedCount": 5,
    "cleanTime": "2025-06-24T10:30:00.000Z",
    "hours": 24
  }
}
```

**å‚æ•°è¯´æ˜**:
- `hours`: æ¸…ç†å¤šå°‘å°æ—¶ä¹‹å‰çš„è§†é¢‘æ–‡ä»¶ï¼ˆå¯é€‰ï¼Œé»˜è®¤24å°æ—¶ï¼‰
- å¦‚æœä¸ä¼ é€’`hours`å‚æ•°ï¼Œå°†ä½¿ç”¨é»˜è®¤å€¼24å°æ—¶

### 10. é‡è¯•å¤±è´¥ä»»åŠ¡
**æ¥å£**: `POST /api/video/retry/:taskId`  
**æè¿°**: é‡æ–°æ‰§è¡Œå¤±è´¥çš„ä¸‹è½½ä»»åŠ¡

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X POST http://47.109.155.18:2222/api/video/retry/task_abc123def456
```

### 11. è·å–è§†é¢‘é¢„è§ˆä¿¡æ¯
**æ¥å£**: `GET /api/video/preview/:taskId`  
**æè¿°**: è·å–è§†é¢‘é¢„è§ˆä¿¡æ¯ï¼ˆæ— éœ€ä¸‹è½½å®Œæ•´è§†é¢‘ï¼‰

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl http://47.109.155.18:2222/api/video/preview/task_abc123def456
```

**å“åº”ç¤ºä¾‹**:
```json
{
    "code": 200,
    "message": "è·å–é¢„è§ˆä¿¡æ¯æˆåŠŸ",
    "data": {
        "taskId": "task_mcdw79ou_3cfd9553c042",
        "status": "completed",
        "platform": "douyin",
        "videoInfo": {
            "title": "å…»è€é‡‘å®¡è®¡æƒ…å†µâ€¦",
            "author": "æœªçŸ¥ä½œè€…",
            "duration": null,
            "thumbnail": null
        },
        "previewUrl": "http://47.109.155.18:2222/videos/task_mcdw79ou_3cfd9553c042_æŠ–éŸ³è§†é¢‘_1750973161636.mp4",
        "downloadUrl": "/api/video/file/task_mcdw79ou_3cfd9553c042",
        "fileInfo": {
            "fileName": "task_mcdw79ou_3cfd9553c042_æŠ–éŸ³è§†é¢‘_1750973161636.mp4",
            "fileSize": 15820320,
            "format": "mp4"
        }
    }
}
```

### 12. è§†é¢‘éŸ³é¢‘è½¬æ–‡æ¡ˆ ğŸ†•
**æ¥å£**: `POST /api/video/transcribe/:taskId`  
**æè¿°**: å°†æŒ‡å®šä»»åŠ¡çš„è§†é¢‘éŸ³é¢‘è½¬æ¢ä¸ºæ–‡æ¡ˆï¼ˆä½¿ç”¨è®¯é£è¯­éŸ³è¯†åˆ«APIï¼‰

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X POST http://47.109.155.18:2222/api/video/transcribe/task_abc123def456
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "éŸ³é¢‘è½¬æ–‡æ¡ˆæˆåŠŸ",
  "data": {
    "taskId": "xf_order_789123456",
    "status": "completed",
    "text": "å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„è§†é¢‘ã€‚ä»Šå¤©æˆ‘è¦å’Œå¤§å®¶åˆ†äº«ä¸€äº›æœ‰è¶£çš„å†…å®¹...",
    "duration": 120,
    "createTime": "2025-06-24T11:00:00.000Z"
  }
}
```

**æ³¨æ„äº‹é¡¹**:
- åªèƒ½å¯¹å·²ä¸‹è½½å®Œæˆçš„è§†é¢‘è¿›è¡ŒéŸ³é¢‘è½¬æ–‡æ¡ˆ
- è½¬æ¢è¿‡ç¨‹å¯èƒ½éœ€è¦å‡ åˆ†é’Ÿæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…
- æ”¯æŒä¸­æ–‡ã€è‹±æ–‡ç­‰å¤šç§è¯­è¨€è¯†åˆ«

### 13. AIä¼˜åŒ–æ–‡æ¡ˆ ğŸ†•
**æ¥å£**: `POST /api/video/optimize-text`  
**æè¿°**: ä½¿ç”¨AIå¤§æ¨¡å‹ä¼˜åŒ–æ–‡æ¡ˆå†…å®¹ï¼ˆä½¿ç”¨è±†åŒ…å¤§æ¨¡å‹ï¼‰

**è¯·æ±‚å‚æ•°**:
```json
{
  "text": "éœ€è¦ä¼˜åŒ–çš„åŸå§‹æ–‡æ¡ˆå†…å®¹"
}
```

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl -X POST http://47.109.155.18:2222/api/video/optimize-text \
  -H "Content-Type: application/json" \
  -d '{
    "text": "å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„è§†é¢‘ã€‚ä»Šå¤©æˆ‘è¦å’Œï¼Œå¤§å®¶åˆ†äº«ä¸€äº›æœ‰è¶£çš„å†…å®¹å‘ƒï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚"
  }'
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "AIä¼˜åŒ–æ–‡æ¡ˆæˆåŠŸ",
  "data": {
    "originalText": "å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„è§†é¢‘ã€‚ä»Šå¤©æˆ‘è¦å’Œï¼Œå¤§å®¶åˆ†äº«ä¸€äº›æœ‰è¶£çš„å†…å®¹å‘ƒï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚",
    "optimizedText": "å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„è§†é¢‘ã€‚ä»Šå¤©æˆ‘è¦å’Œå¤§å®¶åˆ†äº«ä¸€äº›æœ‰è¶£çš„å†…å®¹ï¼Œå¸Œæœ›å¤§å®¶å–œæ¬¢ã€‚",
    "optimizationTime": "2025-06-24T11:05:00.000Z",
    "model": "doubao-seed-1-6-250615",
    "chunks": 1
  }
}
```

**ä¼˜åŒ–ç‰¹ç‚¹**:
- å»é™¤æ–‡æ¡ˆä¸­çš„é”™è¯¯æ–‡å­—å’Œæ ‡ç‚¹ç¬¦å·
- æ•´ç†æˆæ›´æ¸…æ™°ã€æ˜“æ‡‚çš„è¡¨è¾¾
- ä¿æŒåŸæ–‡æ ¸å¿ƒå†…å®¹å’Œæ„æ€ä¸å˜
- ä¸æ·»åŠ åŸè§†é¢‘ä¸­æ²¡æœ‰çš„å†…å®¹
- é¿å…æ”¹å˜åŸæ„äº§ç”Ÿæ­§ä¹‰

**ä½¿ç”¨é™åˆ¶**:
- æ–‡æ¡ˆé•¿åº¦ä¸èƒ½è¶…è¿‡10000å­—ç¬¦
- é•¿æ–‡æ¡ˆä¼šè‡ªåŠ¨åˆ†æ®µå¤„ç†ï¼ˆæ¯æ®µçº¦1500å­—ç¬¦ï¼‰
- å¤„ç†æ—¶é—´å¯èƒ½è¾ƒé•¿ï¼ˆ30-60ç§’ï¼‰ï¼Œè¯·è€å¿ƒç­‰å¾…
- å¦‚é‡è¶…æ—¶ï¼Œå»ºè®®å°†é•¿æ–‡æ¡ˆåˆ†æ®µæäº¤

**é”™è¯¯å¤„ç†**:
- `400`: æ–‡æ¡ˆä¸ºç©ºæˆ–è¶…è¿‡é•¿åº¦é™åˆ¶
- `408`: è¯·æ±‚è¶…æ—¶ï¼Œå»ºè®®åˆ†æ®µå¤„ç†
- `429`: è¯·æ±‚è¿‡äºé¢‘ç¹ï¼ˆæ¯åˆ†é’Ÿæœ€å¤š3æ¬¡ï¼‰
- `503`: AIæœåŠ¡æš‚æ—¶ä¸å¯ç”¨

### 14. è·å–è½¬æ–‡æ¡ˆç»“æœ ğŸ†•
**æ¥å£**: `GET /api/video/transcription/:taskId`  
**æè¿°**: è·å–æŒ‡å®šä»»åŠ¡çš„éŸ³é¢‘è½¬æ–‡æ¡ˆç»“æœ

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl http://47.109.155.18:2222/api/video/transcription/task_abc123def456
```

**å“åº”ç¤ºä¾‹**:
```json
{
  "code": 200,
  "message": "è·å–è½¬æ–‡æ¡ˆç»“æœæˆåŠŸ",
  "data": {
    "taskId": "task_abc123def456",
    "transcription": {
      "taskId": "xf_order_789123456",
      "status": "completed",
      "text": "å¤§å®¶å¥½ï¼Œæ¬¢è¿æ¥åˆ°æˆ‘çš„è§†é¢‘ã€‚ä»Šå¤©æˆ‘è¦å’Œå¤§å®¶åˆ†äº«ä¸€äº›æœ‰è¶£çš„å†…å®¹...",
      "duration": 120,
      "createTime": "2025-06-24T11:00:00.000Z"
    },
    "videoInfo": {
      "title": "è§†é¢‘æ ‡é¢˜",
      "platform": "douyin",
      "originalUrl": "https://v.douyin.com/original_url"
    }
  }
}
```

## å®Œæ•´ä½¿ç”¨æµç¨‹ç¤ºä¾‹

### è§†é¢‘ä¸‹è½½ + éŸ³é¢‘è½¬æ–‡æ¡ˆ + AIä¼˜åŒ–å®Œæ•´æµç¨‹

```bash
# 1. åˆ›å»ºä¸‹è½½ä»»åŠ¡
curl -X POST http://47.109.155.18:2222/api/video/download \
  -H "Content-Type: application/json" \
  -d '{"url": "https://v.douyin.com/example"}'

# å“åº”: {"data": {"taskId": "task_abc123"}}

# 2. æŸ¥è¯¢ä¸‹è½½çŠ¶æ€ï¼ˆç›´åˆ°completedï¼‰
curl http://47.109.155.18:2222/api/video/status/task_abc123

# 3. æ‰§è¡ŒéŸ³é¢‘è½¬æ–‡æ¡ˆ
curl -X POST http://47.109.155.18:2222/api/video/transcribe/task_abc123

# 4. è·å–è½¬æ–‡æ¡ˆç»“æœ
curl http://47.109.155.18:2222/api/video/transcription/task_abc123

# 5. AIä¼˜åŒ–æ–‡æ¡ˆ
curl -X POST http://47.109.155.18:2222/api/video/optimize-text \
  -H "Content-Type: application/json" \
  -d '{"text": "ä»ç¬¬4æ­¥è·å¾—çš„åŸå§‹æ–‡æ¡ˆ"}'
```

## é€Ÿç‡é™åˆ¶è¯´æ˜

ä¸ºäº†ä¿æŠ¤æœåŠ¡å™¨èµ„æºå’Œç¡®ä¿æœåŠ¡ç¨³å®šæ€§ï¼Œç³»ç»Ÿå®æ–½äº†ä»¥ä¸‹é€Ÿç‡é™åˆ¶ï¼š

### é€šç”¨æ¥å£é™åˆ¶
- **é™åˆ¶è§„åˆ™**ï¼šæ¯ä¸ªIPåœ°å€åœ¨15åˆ†é’Ÿå†…æœ€å¤š300æ¬¡è¯·æ±‚
- **é€‚ç”¨æ¥å£**ï¼šé™¤AIä¼˜åŒ–å’Œå¥åº·æ£€æŸ¥å¤–çš„æ‰€æœ‰æ¥å£
- **è¶…å‡ºé™åˆ¶**ï¼šè¿”å›429é”™è¯¯ï¼Œéœ€ç­‰å¾…é‡ç½®æ—¶é—´

### AIä¼˜åŒ–æ¥å£ä¸“é—¨é™åˆ¶
- **é™åˆ¶è§„åˆ™**ï¼šæ¯ä¸ªIPåœ°å€æ¯åˆ†é’Ÿæœ€å¤š3æ¬¡è¯·æ±‚
- **é€‚ç”¨æ¥å£**ï¼š`POST /api/video/optimize-text`
- **åŸå› **ï¼šAIå¤„ç†è€—æ—¶è¾ƒé•¿ï¼Œé˜²æ­¢èµ„æºè¿‡åº¦å ç”¨
- **è¶…å‡ºé™åˆ¶**ï¼šè¿”å›429é”™è¯¯ï¼Œ1åˆ†é’Ÿåé‡ç½®

### å¤šç”¨æˆ·ä½¿ç”¨å»ºè®®
- å¦‚æœå¤šä¸ªç”¨æˆ·å…±äº«åŒä¸€å…¬ç½‘IPï¼ˆå¦‚å…¬å¸ã€å­¦æ ¡ç½‘ç»œï¼‰ï¼Œå»ºè®®ï¼š
  - åè°ƒä½¿ç”¨æ—¶é—´ï¼Œé¿å…åŒæ—¶å¤§é‡è¯·æ±‚
  - å¯¹äºAIä¼˜åŒ–ï¼Œå»ºè®®é—´éš”è‡³å°‘20ç§’å†æ¬¡è¯·æ±‚
  - è€ƒè™‘ä½¿ç”¨ä¸åŒçš„ç½‘ç»œç¯å¢ƒåˆ†æ•£è¯·æ±‚

## é”™è¯¯ä»£ç è¯´æ˜

| é”™è¯¯ä»£ç  | è¯´æ˜ |
|---------|------|
| 400 | è¯·æ±‚å‚æ•°é”™è¯¯ |
| 404 | ä»»åŠ¡æˆ–èµ„æºä¸å­˜åœ¨ |
| 408 | è¯·æ±‚è¶…æ—¶ |
| 429 | è¯·æ±‚é¢‘ç‡è¶…é™ |
| 500 | æœåŠ¡å™¨å†…éƒ¨é”™è¯¯ |
| 503 | æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ |
| 1001 | ä¸æ”¯æŒçš„è§†é¢‘å¹³å° |
| 1002 | æ— æ•ˆçš„è§†é¢‘é“¾æ¥ |
| 1003 | è§†é¢‘ä¸‹è½½å¤±è´¥ |
| 1004 | è§†é¢‘æ–‡ä»¶ä¸å­˜åœ¨ |

## ä½¿ç”¨å»ºè®®

1. **è§†é¢‘ä¸‹è½½**: åˆ›å»ºä»»åŠ¡åå®šæœŸæŸ¥è¯¢çŠ¶æ€ï¼Œå®ŒæˆååŠæ—¶ä¸‹è½½
2. **æ–‡ä»¶æ¸…ç†**: å®šæœŸæ¸…ç†ä¸éœ€è¦çš„è§†é¢‘æ–‡ä»¶ï¼ŒèŠ‚çœå­˜å‚¨ç©ºé—´
3. **éŸ³é¢‘è½¬æ–‡æ¡ˆ**: ç¡®ä¿è§†é¢‘ä¸‹è½½å®Œæˆåå†æ‰§è¡Œè½¬æ–‡æ¡ˆæ“ä½œ
4. **AIä¼˜åŒ–**: å»ºè®®å¯¹è½¬æ–‡æ¡ˆç»“æœè¿›è¡ŒAIä¼˜åŒ–ï¼Œæå‡æ–‡æ¡ˆè´¨é‡
5. **é”™è¯¯å¤„ç†**: é‡åˆ°é”™è¯¯æ—¶æŸ¥çœ‹é”™è¯¯ä»£ç å’Œæ¶ˆæ¯ï¼ŒæŒ‰æç¤ºå¤„ç†
6. **æ‰¹é‡å¤„ç†**: å¯¹äºå¤§é‡è§†é¢‘å¯ä»¥æ‰¹é‡åˆ›å»ºä»»åŠ¡ï¼Œåˆ†æ‰¹å¤„ç†

## æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜è¯·è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿã€‚
